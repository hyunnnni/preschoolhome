"use strict";(self.webpackChunkkindergarden=self.webpackChunkkindergarden||[]).push([[615],{6615:(e,n,s)=>{s.r(n),s.d(n,{default:()=>Z});var i,t,r=s(3990),c=s(3955),o=s(2791),a=s(8188),l=s(7689),d=s(1087),g=s(724),m=s(168),h=s(7323);const x=h.Z.div(i||(i=(0,m.Z)(["\n  position: relative;\n"]))),j=h.Z.div(t||(t=(0,m.Z)(['\n  position: relative;\n  width: 3rem;\n  margin-right: -0.5rem;\n  cursor: pointer;\n  img {\n    width: 100%;\n  }\n\n  :after {\n    content: "";\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 0.7rem;\n    height: 0.7rem;\n    background: ',";\n    border-radius: 50%;\n    display: ",";\n  }\n"])),c.O9.orangeDeep,(e=>e.state?"block":"none"));var u=s(184);const p=e=>{let{state:n}=e;return(0,u.jsx)(x,{children:(0,u.jsx)(j,{state:n,children:(0,u.jsx)("img",{src:"/images/common/bell_icon.svg"})})})};var k=s(6030),y=s(9386);const{persistAtom:f}=(0,y.J)(),v=(0,k.cn)({key:"pushState",default:{totalCnt:0,pushList:{}},effects_UNSTABLE:[f]});s(4880);var b=s(3014);"".concat(b.L,"/api/parent/firebase-token"),"".concat(b.L,"/api/teacher/firebase-token");const C=()=>{const e=(0,l.s0)(),n=(new Date).getFullYear(),{moveToPath:s,doLogout:i,loginState:t,isLogin:r,isAdminLogin:o,isParentLogin:m,isTeacherLogin:h,refreshAccessToken:x}=(0,g.Z)(),j=t.kidList,y=r&&!h?0:t.iclass,f=t.iteacher,b=()=>{i(),s("/")},[C,w]=(0,k.FV)(v);return console.log(C),(0,u.jsxs)(c.Rw,{children:[(0,u.jsx)(d.rU,{to:"/",className:"nav-logo",children:(0,u.jsx)("img",{src:"/images/common/header/logo.svg"})}),(0,u.jsx)("p",{children:r?"".concat(t.teacherNm," \ud658\uc601\ud569\ub2c8\ub2e4."):m?"\ud559\ubd80\ubaa8\ub2d8 \ud658\uc601\ud569\ub2c8\ub2e4.":null}),o?null:(0,u.jsx)(p,{state:0!==C.totalCnt}),(0,u.jsx)(c.rM,{children:r?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.i5,{className:"nav-btn",onClick:s=>e("/ind?year=".concat(n,"&page=1&iclass=").concat(y)),children:"\uc54c\ub9bc\uc7a5\ubaa9\ub85d"}),(0,u.jsx)(a.o4,{className:"nav-btn",onClick:n=>e("/admin?page=1&iclass=".concat(y)),children:"\ud559\ubd80\ubaa8\uad00\ub9ac"}),(0,u.jsx)(a.iI,{className:"nav-btn",onClick:n=>e("/admin/student?page=1&kidCheck=".concat(y)),children:"\uc6d0\uc0dd\uad00\ub9ac"}),h?(0,u.jsx)(a.s2,{className:"nav-btn",onClick:n=>e("/admin/teacher/edit?iteacher=".concat(f)),children:"\uc815\ubcf4\uc218\uc815"}):null,(0,u.jsx)(a.lk,{onClick:()=>{b()},children:"\ub85c\uadf8\uc544\uc6c3"})]}):m?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.i5,{className:"nav-btn",onClick:s=>e("/ind?year=".concat(n,"&page=1&ikid=").concat(j[0]?j[0].ikid:0)),children:"\uc54c\ub9bc\uc7a5"}),(0,u.jsx)(a.iI,{className:"nav-btn",onClick:s=>e("/mypage?year=".concat(n,"&ikid=").concat(j[0]?j[0].ikid:0)),children:"\ub9c8\uc774\ud398\uc774\uc9c0"}),(0,u.jsx)(a.lk,{onClick:()=>{b()},children:"\ub85c\uadf8\uc544\uc6c3"})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.iI,{onClick:n=>e("user/accounts"),children:"\ud68c\uc6d0\uac00\uc785"}),(0,u.jsx)(a.lk,{onClick:n=>e("login"),children:"\ub85c\uadf8\uc778"})]})})]})},w=()=>(0,u.jsxs)(c.xq,{children:[(0,u.jsx)(c.SQ,{}),(0,u.jsx)(c.ae,{children:(0,u.jsx)(d.rU,{to:"/",children:"copyright \ub5a1\uc78e\ubc29\ubc94\ub300"})})]});var L=s(6199),U=s(2949);const N=()=>{const{isLogin:e,isParentLogin:n,isTeacherLogin:s,loginState:i}=(0,g.Z)(),t=(new Date).getFullYear(),r=i.kidList,c=e&&!s?0:i.iclass;function o(e,n,s,i,t){return{key:n,icon:s,children:i,label:e,type:t}}const a=[o((0,u.jsx)(d.rU,{to:"/admin?page=1&iclass=".concat(c),children:"\ud559\ubd80\ubaa8 \uad00\ub9ac"}),"5-1"),o((0,u.jsx)(d.rU,{to:"/admin/student?page=1&kidCheck=".concat(c),children:"\uc6d0\uc0dd \uad00\ub9ac"}),"5-2"),o((0,u.jsx)(d.rU,{to:"/admin/student/create",children:"\uc6d0\uc0dd \ub4f1\ub85d"}),"5-3"),o((0,u.jsx)(d.rU,{to:"/ind?year=".concat(t,"&page=1&iclass=").concat(c),children:"\uc54c\ub9bc\uc7a5 \ubaa9\ub85d"}),"5-4")],l=[o("\uc720\uce58\uc6d0 \uc548\ub0b4","1",(0,u.jsx)("img",{src:"/images/common/sidebar/info_icon.svg"}),[o((0,u.jsx)(d.rU,{to:"/info/",children:"\uc720\uce58\uc6d0 \uc18c\uac1c"}),"1-1"),o((0,u.jsx)(d.rU,{to:"/info/class",children:"\uc720\uce58\uc6d0 \ud604\ud669"}),"1-2"),o((0,u.jsx)(d.rU,{to:"/info/location",children:"\uc624\uc2dc\ub294 \uae38"}),"1-3")]),o("\uad50\uc721\uc815\ubcf4","2",(0,u.jsx)("img",{src:"/images/common/sidebar/education.svg"}),[o((0,u.jsx)(d.rU,{to:"/edu/hospital?page=1",children:"\uc608\ubc29\uc811\uc885\uae30\uad00\uc815\ubcf4"}),"2-3")]),o("\ud65c\ub3d9\uc568\ubc94","3",(0,u.jsx)(d.rU,{to:"/album",children:(0,u.jsx)("img",{src:"/images/common/sidebar/gallery.svg"})})),o("\uc720\uce58\uc6d0 \uc18c\uc2dd","4",(0,u.jsx)(d.rU,{to:"/notice",children:(0,u.jsx)("img",{src:"/images/common/sidebar/news.svg"})}))];return e&&!s&&l.push(o("\uad00\ub9ac\uc790","5",(0,u.jsx)("img",{src:"/images/common/sidebar/manager.svg"}),a.concat([o((0,u.jsx)(d.rU,{to:"/admin/teacher?page=1&iclass=".concat(c,"&tcIsDel=0"),children:"\uc120\uc0dd\ub2d8 \uad00\ub9ac"}),"5-5")]))),s&&l.push(o("\uad00\ub9ac\uc790","5",(0,u.jsx)("img",{src:"/images/common/sidebar/manager.svg"}),a)),n&&l.push(o("\ud68c\uc6d0\uc804\uc6a9","6",(0,u.jsx)("img",{src:"/images/common/sidebar/user.svg"}),[o((0,u.jsx)(d.rU,{to:"/ind?year=".concat(t,"&page=1&ikid=").concat(r[0]?r[0].ikid:0),children:"\uc54c\ub9bc\uc7a5"}),"6-1"),o((0,u.jsx)(d.rU,{to:"/mypage?year=".concat(t,"&ikid=").concat(r[0]?r[0].ikid:0),children:"\ub9c8\uc774\ud398\uc774\uc9c0"}),"6-2")])),(0,u.jsx)(U.Z,{defaultSelectedKeys:[""],mode:"inline",items:l,style:{border:0}})},S=()=>{const[e,n]=(0,o.useState)(!1),s=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const i=i=>{window.innerWidth<=798&&!e&&!s.current.contains(i.target)&&n(!0)};return document.addEventListener("click",i),()=>document.removeEventListener("click",i)}),[e]),(0,u.jsx)(c.WP,{ref:s,children:(0,u.jsxs)(L.Z,{breakpoint:"lg",onCollapse:(e,s)=>{n(!0)},trigger:null,collapsible:!0,collapsed:e,theme:"light",children:[(0,u.jsx)(c.Z3,{children:(0,u.jsx)(d.rU,{to:"/",children:e?(0,u.jsx)("img",{src:"/images/common/header/smallLogo.svg"}):(0,u.jsx)("img",{src:"/images/common/header/logo.svg"})})}),(0,u.jsx)(N,{}),(0,u.jsx)(a.sd,{type:"text",onClick:()=>n(!e),children:e?"\ud3bc\uce58\uae30":"\uc811\uae30"})]})})},Z=e=>{let{children:n}=e;return(0,u.jsxs)(c.Fw,{className:"layout-wrap",children:[(0,u.jsx)(S,{}),(0,u.jsxs)(r.Z,{children:[(0,u.jsx)(C,{}),(0,u.jsx)(c.Py,{children:(0,u.jsx)(l.j3,{})})]}),(0,u.jsx)(w,{})]})}},9386:(e,n)=>{n.J=void 0;n.J=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"===typeof window)return{persistAtom:()=>{}};const{key:n="recoil-persist",storage:s=localStorage,converter:i=JSON}=e,t=(e,n,s,i)=>{i?delete n[s]:n[s]=e,o(n)},r=()=>{const e=s.getItem(n);return null===e||void 0===e?{}:"string"===typeof e?c(e):"function"===typeof e.then?e.then(c):{}},c=e=>{if(void 0===e)return{};try{return i.parse(e)}catch(n){return console.error(n),{}}},o=e=>{try{"function"===typeof s.mergeItem?s.mergeItem(n,i.stringify(e)):s.setItem(n,i.stringify(e))}catch(t){console.error(t)}};return{persistAtom:e=>{let{onSet:n,node:s,trigger:i,setSelf:c}=e;if("get"===i){const e=r();"function"===typeof e.then&&e.then((e=>{e.hasOwnProperty(s.key)&&c(e[s.key])})),e.hasOwnProperty(s.key)&&c(e[s.key])}n((async(e,n,i)=>{const c=r();"function"===typeof c.then?c.then((n=>t(e,n,s.key,i))):t(e,c,s.key,i)}))}}}}}]);
//# sourceMappingURL=615.bf5d7dd5.chunk.js.map