{"version":3,"file":"static/js/615.bf5d7dd5.chunk.js","mappings":"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","sources":["styles/user/notialarm.js","components/user/NotiAlarm.js","atoms/pushState.js","api/user/pushApi.js","components/common/NavBar.js","components/common/Footer.js","components/common/SideMenu.js","components/common/SideBar.js","layouts/MainLayout.js","../node_modules/recoil-persist/dist/index.js"],"sourcesContent":["import styled from \"@emotion/styled\";\nimport { boxStyle, colors } from \"../basic\";\n\nexport const NotiWrap = styled.div`\n  position: relative;\n`;\n\nexport const NotiIcon = styled.div`\n  position: relative;\n  width: 3rem;\n  margin-right: -0.5rem;\n  cursor: pointer;\n  img {\n    width: 100%;\n  }\n\n  :after {\n    content: \"\";\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 0.7rem;\n    height: 0.7rem;\n    background: ${colors.orangeDeep};\n    border-radius: 50%;\n    display: ${props => (props.state ? \"block\" : \"none\")};\n  }\n`;\n","import React from \"react\";\nimport {\n  NotiBox,\n  NotiIcon,\n  NotiList,\n  NotiWrap,\n} from \"../../styles/user/notialarm\";\n\nconst NotiAlarm = ({ state }) => {\n  return (\n    <NotiWrap>\n      <NotiIcon state={state}>\n        <img src={process.env.PUBLIC_URL + \"/images/common/bell_icon.svg\"} />\n      </NotiIcon>\n    </NotiWrap>\n  );\n};\n\nexport default NotiAlarm;\n","import { atom } from \"recoil\";\nimport { recoilPersist } from \"recoil-persist\";\n\nconst { persistAtom } = recoilPersist();\nconst pushState = atom({\n  key: \"pushState\",\n  default: { totalCnt: 0, pushList: {} },\n  effects_UNSTABLE: [persistAtom],\n});\n\nexport default pushState;\n","import { getFirebaseToken, onMessageListener } from \"../../fb/fbconfig\";\nimport jwtAxios from \"../../util/jwtUtil\";\nimport { SERVER_URL } from \"../config\";\n\nconst parentFbPath = `${SERVER_URL}/api/parent/firebase-token`;\nconst teacherFbPath = `${SERVER_URL}/api/teacher/firebase-token`;\n\nexport const patchTeacherFbToken = async ({ params, successFn }) => {\n  try {\n    const res = await jwtAxios.patch(`${teacherFbPath}`, params);\n    const status = res.status.toString();\n    if (status.charAt(0) === \"2\") {\n      successFn(res);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const patchParentFbToken = async ({ params, successFn }) => {\n  try {\n    const res = await jwtAxios.patch(`${parentFbPath}`, params);\n    const status = res.status.toString();\n    if (status.charAt(0) === \"2\") {\n      successFn(res);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getFbToken = async successFn => {\n  try {\n    const firebaseToken = await getFirebaseToken();\n    successFn(firebaseToken);\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import React, { useEffect } from \"react\";\nimport { HeaderBtn, NavWrap } from \"../../styles/basic\";\nimport {\n  GrayBtn,\n  GreenBtn,\n  OrangeBtn,\n  PinkBtn,\n  PurpleBtn,\n} from \"../../styles/ui/buttons\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport useCustomLogin from \"../../hooks/useCustomLogin\";\nimport NotiAlarm from \"../user/NotiAlarm\";\nimport { useRecoilState } from \"recoil\";\nimport pushState from \"../../atoms/pushState\";\nimport { onMessageListener } from \"../../fb/fbconfig\";\nimport {\n  patchParentFbToken,\n  patchTeacherFbToken,\n  getFbToken,\n} from \"../../api/user/pushApi\";\n\nconst NavBar = () => {\n  const navigate = useNavigate();\n  const currentYear = new Date().getFullYear();\n  // 로그인정보 체크\n  const {\n    moveToPath,\n    doLogout,\n    loginState,\n    isLogin,\n    isAdminLogin,\n    isParentLogin,\n    isTeacherLogin,\n    refreshAccessToken,\n  } = useCustomLogin();\n  const ikidList = loginState.kidList;\n  const iclass = isLogin && !isTeacherLogin ? 0 : loginState.iclass;\n  const iteacher = loginState.iteacher;\n\n  // 로그아웃\n  const handleLogout = () => {\n    doLogout();\n    moveToPath(\"/\");\n  };\n  // 푸시알림\n  const [notiPush, setNotiPush] = useRecoilState(pushState);\n\n  // // 알림사용 승인 후 firebase 토큰 가져오기\n  // useEffect(() => {\n  //   if (Notification.permission !== \"granted\") {\n  //     Notification.requestPermission().then(permission => {\n  //       if (permission === \"granted\") {\n  //         getFbToken(successFn);\n  //       }\n  //     });\n  //   } else {\n  //     getFbToken(successFn);\n  //   }\n  // }, [loginState]);\n  // //firebase 토큰가져오기 성공 시 서버로 변경된 토큰 보냄\n  // const successFn = res => {\n  //   const userFirebaseToken = isParentLogin\n  //     ? loginState.prFirebaseToken\n  //     : loginState.firebaseToken;\n\n  //   if (userFirebaseToken !== res && loginState.accessToken) {\n  //     let params = {\n  //       iteacher: loginState.iteacher,\n  //       firebaseToken: res,\n  //     };\n  //     if (isParentLogin) {\n  //       params = {\n  //         iparent: loginState.iparent,\n  //         firebaseToken: res,\n  //       };\n  //       patchParentFbToken({ params, successFn: successrefrash });\n  //     } else {\n  //       patchTeacherFbToken({ params, successFn: successrefrash });\n  //     }\n  //     console.log(params);\n  //   }\n  // };\n\n  // // firebase 토큰 갱신 하면 로그인 정보 다시 가져옴\n  // const successrefrash = res => {\n  //   // const resultNum = res.data.result;\n  //   // if (resultNum === 1) {\n  //   //   refreshAccessToken();\n  //   // } else {\n  //   //   console.log(\"firebase 토큰업데이트 실패\");\n  //   // }\n  //   refreshAccessToken();\n  // };\n\n  // // 알림체크\n  // onMessageListener()\n  //   .then(payload => {\n  //     const data = JSON.parse(payload.data);\n  //     console.log(data);\n  //     setNotiPush(prev => {\n  //       const copyDm = { ...prev };\n  //       const prevDm = copyDm.pushList[data.idm] || {\n  //         unCheckedMsgCnt: 0,\n  //         data: null,\n  //       };\n  //       prevDm.unCheckedMsgCnt++;\n  //       prevDm.data = data;\n  //       copyDm.pushList[data.idm] = prevDm;\n  //       copyDm.totalCnt++;\n  //       return copyDm;\n  //     });\n  //   })\n  //   .catch(error => console.log(error));\n\n  // console.log(\"리프레시\", loginState.accessToken);\n  // console.log(\"기존\", loginState.accessToken);\n  console.log(notiPush);\n  return (\n    <NavWrap>\n      <Link to={\"/\"} className=\"nav-logo\">\n        <img src={process.env.PUBLIC_URL + \"/images/common/header/logo.svg\"} />\n      </Link>\n      <p>\n        {isLogin\n          ? `${loginState.teacherNm} 환영합니다.`\n          : isParentLogin\n          ? \"학부모님 환영합니다.\"\n          : null}\n      </p>\n      {/* 푸시알림 */}\n      {!isAdminLogin ? (\n        <NotiAlarm state={notiPush.totalCnt === 0 ? false : true} />\n      ) : null}\n\n      <HeaderBtn>\n        {isLogin ? (\n          <>\n            <GrayBtn\n              className=\"nav-btn\"\n              onClick={e =>\n                navigate(`/ind?year=${currentYear}&page=1&iclass=${iclass}`)\n              }\n            >\n              알림장목록\n            </GrayBtn>\n\n            <PurpleBtn\n              className=\"nav-btn\"\n              onClick={e => navigate(`/admin?page=1&iclass=${iclass}`)}\n            >\n              학부모관리\n            </PurpleBtn>\n            <OrangeBtn\n              className=\"nav-btn\"\n              onClick={e =>\n                navigate(`/admin/student?page=1&kidCheck=${iclass}`)\n              }\n            >\n              원생관리\n            </OrangeBtn>\n            {isTeacherLogin ? (\n              <PinkBtn\n                className=\"nav-btn\"\n                onClick={e =>\n                  navigate(`/admin/teacher/edit?iteacher=${iteacher}`)\n                }\n              >\n                정보수정\n              </PinkBtn>\n            ) : null}\n            <GreenBtn\n              onClick={() => {\n                handleLogout();\n              }}\n            >\n              로그아웃\n            </GreenBtn>\n          </>\n        ) : isParentLogin ? (\n          <>\n            <GrayBtn\n              className=\"nav-btn\"\n              onClick={e =>\n                navigate(\n                  `/ind?year=${currentYear}&page=1&ikid=${\n                    ikidList[0] ? ikidList[0].ikid : 0\n                  }`,\n                )\n              }\n            >\n              알림장\n            </GrayBtn>\n            <OrangeBtn\n              className=\"nav-btn\"\n              onClick={e =>\n                navigate(\n                  `/mypage?year=${currentYear}&ikid=${\n                    ikidList[0] ? ikidList[0].ikid : 0\n                  }`,\n                )\n              }\n            >\n              마이페이지\n            </OrangeBtn>\n            <GreenBtn\n              onClick={() => {\n                handleLogout();\n              }}\n            >\n              로그아웃\n            </GreenBtn>\n          </>\n        ) : (\n          <>\n            <OrangeBtn onClick={e => navigate(\"user/accounts\")}>\n              회원가입\n            </OrangeBtn>\n            <GreenBtn onClick={e => navigate(\"login\")}>로그인</GreenBtn>\n          </>\n        )}\n      </HeaderBtn>\n    </NavWrap>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\nimport { FooterBg, FooterBus, FooterWrap } from \"../../styles/basic\";\nimport { Link } from \"react-router-dom\";\n\nconst Footer = () => {\n  return (\n    <FooterWrap>\n      <FooterBus />\n      <FooterBg>\n        <Link to=\"/\">copyright 떡잎방범대</Link>\n      </FooterBg>\n    </FooterWrap>\n  );\n};\n\nexport default Footer;\n","import { Menu } from \"antd\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useCustomLogin from \"../../hooks/useCustomLogin\";\n\nconst SideMenu = () => {\n  const { isLogin, isParentLogin, isTeacherLogin, loginState } =\n    useCustomLogin();\n  const currentYear = new Date().getFullYear();\n  const ikidList = loginState.kidList;\n  const iclass = isLogin && !isTeacherLogin ? 0 : loginState.iclass;\n  function getItem(label, key, icon, children, type) {\n    return {\n      key,\n      icon,\n      children,\n      label,\n      type,\n    };\n  }\n\n  const teacherItems = [\n    getItem(\n      <Link to={`/admin?page=1&iclass=${iclass}`}>학부모 관리</Link>,\n      \"5-1\",\n    ),\n    getItem(\n      <Link to={`/admin/student?page=1&kidCheck=${iclass}`}>원생 관리</Link>,\n      \"5-2\",\n    ),\n    getItem(<Link to=\"/admin/student/create\">원생 등록</Link>, \"5-3\"),\n    getItem(\n      <Link to={`/ind?year=${currentYear}&page=1&iclass=${iclass}`}>\n        알림장 목록\n      </Link>,\n      \"5-4\",\n    ),\n  ];\n  const items = [\n    getItem(\n      \"유치원 안내\",\n      \"1\",\n      <img\n        src={process.env.PUBLIC_URL + \"/images/common/sidebar/info_icon.svg\"}\n      />,\n      [\n        getItem(<Link to=\"/info/\">유치원 소개</Link>, \"1-1\"),\n        getItem(<Link to=\"/info/class\">유치원 현황</Link>, \"1-2\"),\n        getItem(<Link to=\"/info/location\">오시는 길</Link>, \"1-3\"),\n      ],\n    ),\n    getItem(\n      \"교육정보\",\n      \"2\",\n      <img\n        src={process.env.PUBLIC_URL + \"/images/common/sidebar/education.svg\"}\n      />,\n      [\n        // getItem(<Link to=\"/edu\">교육과정</Link>, \"2-1\"),\n        // getItem(<Link to=\"/edu/specialact\">방과후활동</Link>, \"2-2\"),\n        getItem(<Link to=\"/edu/hospital?page=1\">예방접종기관정보</Link>, \"2-3\"),\n      ],\n    ),\n    getItem(\n      \"활동앨범\",\n      \"3\",\n      <Link to=\"/album\">\n        <img\n          src={process.env.PUBLIC_URL + \"/images/common/sidebar/gallery.svg\"}\n        />\n      </Link>,\n    ),\n    getItem(\n      \"유치원 소식\",\n      \"4\",\n      <Link to=\"/notice\">\n        <img src={process.env.PUBLIC_URL + \"/images/common/sidebar/news.svg\"} />\n      </Link>,\n    ),\n  ];\n  if (isLogin && !isTeacherLogin) {\n    items.push(\n      getItem(\n        \"관리자\",\n        \"5\",\n        <img\n          src={process.env.PUBLIC_URL + \"/images/common/sidebar/manager.svg\"}\n        />,\n        teacherItems.concat([\n          getItem(\n            <Link to={`/admin/teacher?page=1&iclass=${iclass}&tcIsDel=0`}>\n              선생님 관리\n            </Link>,\n            \"5-5\",\n          ),\n        ]),\n      ),\n    );\n  }\n  if (isTeacherLogin) {\n    items.push(\n      getItem(\n        \"관리자\",\n        \"5\",\n        <img\n          src={process.env.PUBLIC_URL + \"/images/common/sidebar/manager.svg\"}\n        />,\n        teacherItems,\n      ),\n    );\n  }\n  if (isParentLogin) {\n    items.push(\n      getItem(\n        \"회원전용\",\n        \"6\",\n        <img\n          src={process.env.PUBLIC_URL + \"/images/common/sidebar/user.svg\"}\n        />,\n        [\n          getItem(\n            <Link\n              to={`/ind?year=${currentYear}&page=1&ikid=${\n                ikidList[0] ? ikidList[0].ikid : 0\n              }`}\n            >\n              알림장\n            </Link>,\n            \"6-1\",\n          ),\n          getItem(\n            <Link\n              to={`/mypage?year=${currentYear}&ikid=${\n                ikidList[0] ? ikidList[0].ikid : 0\n              }`}\n            >\n              마이페이지\n            </Link>,\n            \"6-2\",\n          ),\n        ],\n      ),\n    );\n  }\n\n  return (\n    <Menu\n      defaultSelectedKeys={[\"\"]}\n      mode=\"inline\"\n      items={items}\n      style={{ border: 0 }}\n    />\n  );\n};\n\nexport default SideMenu;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { LogoWrap, SideBarWrap } from \"../../styles/basic\";\nimport Sider from \"antd/es/layout/Sider\";\nimport SideMenu from \"./SideMenu\";\nimport { AllBtn } from \"../../styles/ui/buttons\";\n\nconst SideBar = () => {\n  const [collapsed, setCollapsed] = useState(false);\n  const sideMenuRef = useRef(null);\n  useEffect(() => {\n    const handleOutsideClose = e => {\n      if (\n        window.innerWidth <= 798 &&\n        !collapsed &&\n        !sideMenuRef.current.contains(e.target)\n      )\n        setCollapsed(true);\n    };\n    document.addEventListener(\"click\", handleOutsideClose);\n\n    return () => document.removeEventListener(\"click\", handleOutsideClose);\n  }, [collapsed]);\n\n  return (\n    <SideBarWrap ref={sideMenuRef}>\n      <Sider\n        breakpoint=\"lg\"\n        onCollapse={(collapsed, type) => {\n          setCollapsed(true);\n        }}\n        trigger={null}\n        collapsible\n        collapsed={collapsed}\n        theme=\"light\"\n      >\n        <LogoWrap>\n          <Link to={\"/\"}>\n            {collapsed ? (\n              <img\n                src={\n                  process.env.PUBLIC_URL + \"/images/common/header/smallLogo.svg\"\n                }\n              />\n            ) : (\n              <img\n                src={process.env.PUBLIC_URL + \"/images/common/header/logo.svg\"}\n              />\n            )}\n          </Link>\n        </LogoWrap>\n        <SideMenu />\n        <AllBtn type=\"text\" onClick={() => setCollapsed(!collapsed)}>\n          {collapsed ? \"펼치기\" : \"접기\"}\n        </AllBtn>\n      </Sider>\n    </SideBarWrap>\n  );\n};\n\nexport default SideBar;\n","import { Layout, theme } from \"antd\";\nimport { AllLayout, WrapMain } from \"../styles/basic\";\nimport NavBar from \"../components/common/NavBar\";\nimport Footer from \"../components/common/Footer\";\nimport SideBar from \"../components/common/SideBar\";\nimport { Outlet } from \"react-router\";\nconst MainLayout = ({ children }) => {\n  return (\n    <AllLayout className=\"layout-wrap\">\n      {/* 사이드바(전체메뉴)영역 */}\n      <SideBar />\n      <Layout>\n        {/* 상단네비영역 */}\n        <NavBar />\n        {/* 컨텐츠영역 */}\n        <WrapMain>\n          <Outlet />\n        </WrapMain>\n      </Layout>\n      {/* 하단푸터 */}\n      <Footer />\n    </AllLayout>\n  );\n};\nexport default MainLayout;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.recoilPersist = void 0;\n/**\n * Recoil module to persist state to storage\n *\n * @param config Optional configuration object\n * @param config.key Used as key in local storage, defaults to `recoil-persist`\n * @param config.storage Local storage to use, defaults to `localStorage`\n */\nconst recoilPersist = (config = {}) => {\n    if (typeof window === 'undefined') {\n        return {\n            persistAtom: () => { },\n        };\n    }\n    const { key = 'recoil-persist', storage = localStorage, converter = JSON } = config;\n    const persistAtom = ({ onSet, node, trigger, setSelf }) => {\n        if (trigger === 'get') {\n            const state = getState();\n            if (typeof state.then === 'function') {\n                state.then((s) => {\n                    if (s.hasOwnProperty(node.key)) {\n                        setSelf(s[node.key]);\n                    }\n                });\n            }\n            if (state.hasOwnProperty(node.key)) {\n                setSelf(state[node.key]);\n            }\n        }\n        onSet(async (newValue, _, isReset) => {\n            const state = getState();\n            if (typeof state.then === 'function') {\n                state.then((s) => updateState(newValue, s, node.key, isReset));\n            }\n            else {\n                updateState(newValue, state, node.key, isReset);\n            }\n        });\n    };\n    const updateState = (newValue, state, key, isReset) => {\n        if (isReset) {\n            delete state[key];\n        }\n        else {\n            state[key] = newValue;\n        }\n        setState(state);\n    };\n    const getState = () => {\n        const toParse = storage.getItem(key);\n        if (toParse === null || toParse === undefined) {\n            return {};\n        }\n        if (typeof toParse === 'string') {\n            return parseState(toParse);\n        }\n        if (typeof toParse.then === 'function') {\n            return toParse.then(parseState);\n        }\n        return {};\n    };\n    const parseState = (state) => {\n        if (state === undefined) {\n            return {};\n        }\n        try {\n            return converter.parse(state);\n        }\n        catch (e) {\n            console.error(e);\n            return {};\n        }\n    };\n    const setState = (state) => {\n        try {\n            if (typeof storage.mergeItem === 'function') {\n                storage.mergeItem(key, converter.stringify(state));\n            }\n            else {\n                storage.setItem(key, converter.stringify(state));\n            }\n        }\n        catch (e) {\n            console.error(e);\n        }\n    };\n    return { persistAtom };\n};\nexports.recoilPersist = recoilPersist;\n"],"names":["NotiWrap","styled","div","_templateObject","_taggedTemplateLiteral","NotiIcon","_templateObject2","colors","orangeDeep","props","state","_ref","_jsx","children","src","persistAtom","recoilPersist","atom","key","default","totalCnt","pushList","effects_UNSTABLE","concat","SERVER_URL","NavBar","navigate","useNavigate","currentYear","Date","getFullYear","moveToPath","doLogout","loginState","isLogin","isAdminLogin","isParentLogin","isTeacherLogin","refreshAccessToken","useCustomLogin","ikidList","kidList","iclass","iteacher","handleLogout","notiPush","setNotiPush","useRecoilState","pushState","console","log","_jsxs","NavWrap","Link","to","className","teacherNm","NotiAlarm","HeaderBtn","_Fragment","GrayBtn","onClick","e","PurpleBtn","OrangeBtn","PinkBtn","GreenBtn","ikid","Footer","FooterWrap","FooterBus","FooterBg","SideMenu","getItem","label","icon","type","teacherItems","items","push","Menu","defaultSelectedKeys","mode","style","border","SideBar","collapsed","setCollapsed","useState","sideMenuRef","useRef","useEffect","handleOutsideClose","window","innerWidth","current","contains","target","document","addEventListener","removeEventListener","SideBarWrap","ref","Sider","breakpoint","onCollapse","trigger","collapsible","theme","LogoWrap","AllBtn","AllLayout","Layout","WrapMain","Outlet","exports","config","arguments","length","undefined","storage","localStorage","converter","JSON","updateState","newValue","isReset","setState","getState","toParse","parseState","then","parse","error","mergeItem","stringify","setItem","onSet","node","setSelf","s","hasOwnProperty","async","_"],"sourceRoot":""}