"use strict";(self.webpackChunkkindergarden=self.webpackChunkkindergarden||[]).push([[341],{4146:(n,e,t)=>{t.d(e,{$C:()=>h,I2:()=>u,Im:()=>s,JD:()=>p,Oe:()=>m,d2:()=>c,eK:()=>l,mV:()=>g,vz:()=>d});var a=t(5294),i=t(3014),r=t(4880);const o="".concat(i.L,"/api/album"),l=async n=>{let{pno:e,successFn:t,failFn:i,errorFn:l}=n;try{const n=await r.Z.get("".concat(o,"?ialbum=").concat(e));"2"===n.status.toString().charAt(0)?t({...n.data}):i("\uc790\ub8cc \ud638\ucd9c \uc5d0\ub7ec\uc785\ub2c8\ub2e4.")}catch(s){l((await a.Z.get("/")).data)}},s=async n=>{let{page:e,successFn:t,failFn:i,errorFn:l}=n;try{const n=await r.Z.get("".concat(o,"/listall?page=").concat(e));"2"===n.status.toString().charAt(0)?t(n.data):i("\uc790\ub8cc \ud638\ucd9c \uc5d0\ub7ec\uc785\ub2c8\ub2e4.")}catch(s){l((await a.Z.get("/")).data)}},c=async n=>{let{page:e,search:t,successFn:a,failFn:i,errorFn:l}=n;try{const n=await r.Z.get("".concat(o,"/listall?page=").concat(e,"&search=").concat(t));"2"===n.status.toString().charAt(0)?a(n.data):i("\uc790\ub8cc \ud638\ucd9c \uc5d0\ub7ec\uc785\ub2c8\ub2e4.")}catch(s){l(s)}},d=async n=>{let{pno:e,successFn:t,failFn:i,errorFn:l}=n;try{const n=await r.Z.get("".concat(o,"/edit?ialbum=").concat(e));"2"===n.status.toString().charAt(0)?t(n.data):i("\uc790\ub8cc \ud638\ucd9c \uc5d0\ub7ec\uc785\ub2c8\ub2e4.")}catch(s){l((await a.Z.get("/")).data)}},m=async n=>{let{product:e,successFn:t,failFn:a,errorFn:i}=n;try{const n={headers:{"Content-Type":"multipart/form-data"}},i=await r.Z.put("".concat(o),e,n);if("2"===i.status.toString().charAt(0))return console.log("res.data : ",i.data),t(i.data),i.data;a("\uc218\uc815\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}catch(l){i(console.log(l))}},u=async n=>{let{product:e,successFn:t,failFn:a,errorFn:i}=n;try{const n={headers:{"Content-Type":"multipart/form-data"}},i=await r.Z.post("".concat(o),e,n);"2"===i.status.toString().charAt(0)?t(i.data):a("\uae00 \ub4f1\ub85d \uc624\ub958",i.statusText)}catch(l){i("\uae00 \ub4f1\ub85d \uc11c\ubc84\uc624\ub958",l.response.data)}},g=async n=>{let{ialbum:e,successFn:t,failFn:a,errorFn:i}=n;try{const n=await r.Z.delete("".concat(o,"?ialbum=").concat(e));"2"===n.status.toString().charAt(0)?t(n.data):a("\uc0ad\uc81c \ud638\ucd9c \uc624\ub958\uc785\ub2c8\ub2e4.")}catch(l){i("\uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc11c\ubc84\uac00 \ubd88\uc548\uc815\ud558\ub2c8 \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}},p=async n=>{let{obj:e,successFn:t,failFn:a,errorFn:i}=n;try{const n=await r.Z.post("".concat(o,"/comment"),e);"2"===n.status.toString().charAt(0)?t(n.data):a("\ub313\uae00 \ub4f1\ub85d\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}catch(l){i(l)}},h=async n=>{let{ialbumComment:e,ialbum:t,iteacher:a,iparent:i,successFn:l,failFn:s,errorFn:c}=n;try{const n=()=>a?"&iteacher=".concat(a):i?"&iparent=".concat(i):void 0,c=await r.Z.delete("".concat(o,"/comment?ialbumComment=").concat(e,"&ialbum=").concat(t).concat(n()));"2"===c.status.toString().charAt(0)?l(c.data):s(c.data)}catch(d){c(d)}}},7341:(n,e,t)=>{t.r(e),t.d(e,{default:()=>C});var a=t(2791),i=t(7689),r=t(2351),o=t(5140),l=t(7070),s=t(300),c=t(1994),d=t(2641),m=t(1087),u=t(4146),g=t(3014),p=t(897),h=t(7291),b=t(8188),f=t(1717),w=t(5780),x=t(184);const y="".concat(g.b,"/api/album"),Z="".concat(g.b,"/pic/album"),F=n=>{let{onSuccess:e}=n;e("ok")},v=[{albumTitle:"",albumContents:"",albumPic:[],albumComments:[],createdAt:""}],k=()=>{const{pno:n}=(0,i.UO)(),e=(0,a.useRef)(),[t,g]=(0,a.useState)(v),[k]=o.Z.useForm(),[j,C]=(0,a.useState)([]),[O,S]=(0,a.useState)(!1),T=(0,i.s0)(),[z,A]=(0,a.useState)(""),[D,q]=(0,a.useState)(""),[P,B]=(0,a.useState)([]),[L,V]=(0,a.useState)([]),[E,I]=(0,a.useState)([]),[K,R]=(0,a.useState)(!1),[U,N]=(0,a.useState)(!1),[H,J]=(0,a.useState)(!1),[Y,$]=(0,a.useState)(!1),[M,X]=(0,a.useState)(!1),_=n=>{N(!0)},G=n=>{l.default.error({title:"\uc568\ubc94 \uc5c5\ub85c\ub4dc \uc2e4\ud328",content:n})},Q=n=>{console.error("\uc568\ubc94 \uc5c5\ub85c\ub4dc \uc624\ub958:",n),l.default.error({title:"\uc568\ubc94 \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958 \ubc1c\uc0dd",content:"\uc11c\ubc84 \uc624\ub958 \ub610\ub294 \ub124\ud2b8\uc6cc\ud06c \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."})};(0,a.useEffect)((()=>{(async()=>{(0,u.vz)({pno:n,successFn:e=>{g({...e}),A(e.albumTitle),q(e.albumContents),k.setFieldsValue({albumTitle:e.albumTitle,albumContents:e.albumContents});const t=e.albumPic.map(((e,t)=>({uid:e.ialbumPic,name:e.albumPic,status:"done",url:"".concat(Z,"/").concat(n,"/").concat(e.albumPic)})));console.log("transformedFileList",t),C(t)},failFn:n=>{console.error("Album fetch failed:",n)},errorFn:n=>{console.error("Error fetching album:",n)}})})()}),[n,k]);return(0,x.jsxs)(p.TC,{children:[(0,x.jsx)(h.V1,{children:"\ud65c\ub3d9\uc568\ubc94"}),(0,x.jsxs)(o.Z,{ref:e,form:k,onFinish:async e=>{const t=new FormData,a={iteacher:1,albumTitle:e.albumTitle,albumContents:e.albumContents,ialbum:n};E.length>0&&(a.delPics=E);const i=new Blob([JSON.stringify(a)],{type:"application/json"});t.append("dto",i),j.forEach((n=>{n.originFileObj&&t.append("pics",n.originFileObj,n.name)}));try{await(0,u.Oe)({product:t,successFn:_,failFn:G,errorFn:Q})}catch(r){Q(r.message)}},children:[(0,x.jsxs)(p.bF,{children:[(0,x.jsx)(o.Z.Item,{name:"albumTitle",initialValue:t.albumTitle,rules:[{required:!0,message:"\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!"}],children:(0,x.jsx)(s.default,{placeholder:"\uc81c\ubaa9 \uc785\ub825"})}),(0,x.jsx)(o.Z.Item,{name:"albumContents",initialValue:t.albumContents,style:{height:"150px"},rules:[{required:!0,message:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!"}],children:(0,x.jsx)(s.default.TextArea,{placeholder:"\ub0b4\uc6a9 \uc785\ub825",style:{height:"150px"}})}),(0,x.jsx)(p.DY,{children:(0,x.jsx)(c.Z.Dragger,{action:"".concat(y),listType:"picture",fileList:j,beforeUpload:n=>{const e=[...j,{uid:n.uid,name:n.name,status:"done",originFileObj:n}];return C(e),!1},onRemove:n=>{if(console.log("file.uid",typeof n.uid),j.length>1){const e=j.filter((e=>e.uid!==n.uid));return C(e),"number"===typeof n.uid&&I([...E,n.uid]),!0}return J(!0),!1},onChange:n=>{let{fileList:e}=n;C(e);const t=e.filter((n=>n.originFileObj)).map((n=>n.name));V(t)},customRequest:F,className:"upload-list-inline",multiple:!0,style:{lineHeight:"15rem"},children:(0,x.jsx)(d.ZP,{icon:(0,x.jsx)(r.Z,{}),children:"\uc5c5\ub85c\ub4dc "})})})]}),(0,x.jsxs)(b.Kj,{right:!0,children:[(0,x.jsx)(b.lk,{type:"button",onClick:()=>{R(!0)},children:"\uc218\uc815"}),(0,x.jsx)(b.s2,{type:"button",onClick:()=>{X(!0)},children:"\ucde8\uc18c"})]})]}),(0,x.jsx)(w.Z,{isOpen:K,handleOk:()=>{e.current.submit(),R(!1)},handleCancel:()=>{R(!1)},title:"\uc568\ubc94 \uc218\uc815 \ud655\uc778",subTitle:"\uc568\ubc94\uc744 \uc218\uc815\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \n\uc218\uc815\ud558\uc2e0 \ub0b4\uc6a9\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",maskClosable:!1}),(0,x.jsx)(w.Z,{isOpen:M,handleOk:()=>{X(!1),T("/album")},handleCancel:()=>{X(!1)},title:"\uc815\ub9d0 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",subTitle:"\uc218\uc815 \ub0b4\uc6a9\uc774 \uc800\uc7a5\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",maskClosable:!1}),(0,x.jsxs)(m.rU,{to:"/album",children:[(0,x.jsx)(f.Z,{isOpen:U,handleOk:()=>{N(!1),T("/album/details/".concat(n))},title:"\uc568\ubc94 \uc218\uc815 \uc644\ub8cc",subTitle:"\uc131\uacf5\uc801\uc73c\ub85c \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \n \uc218\uc815 \ub0b4\uc6a9\uc744 \ud655\uc778\ud558\uc2dc\ub824\uba74 \ud655\uc778 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud574\uc8fc\uc138\uc694.",maskClosable:!1}),(0,x.jsx)(f.Z,{isOpen:H,handleOk:n=>{n.stopPropagation(),J(!1)},title:"\uc774\ubbf8\uc9c0 \ud30c\uc77c \uacbd\uace0",subTitle:"\ucd5c\uc18c \ud558\ub098\uc758 \uc774\ubbf8\uc9c0\ud30c\uc77c\uc740 \uc5c5\ub85c\ub4dc \ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4.",maskClosable:!1})]})]})};var j=t(724);const C=()=>{const{pno:n}=(0,i.UO)(),[e,t]=(0,a.useState)(null),{isLogin:r}=(0,j.Z)();return(0,a.useEffect)((()=>{(0,u.eK)({pno:n,successFn:n=>{t(n)}})}),[n]),e?(0,x.jsx)(k,{albumData:e,isLogin:r}):null}},897:(n,e,t)=>{t.d(e,{$_:()=>z,BV:()=>O,DY:()=>A,E1:()=>v,M9:()=>S,TC:()=>Z,Xs:()=>C,bF:()=>D,jh:()=>k,mD:()=>F,pK:()=>j,uN:()=>T});var a,i,r,o,l,s,c,d,m,u,g,p,h,b,f,w=t(168),x=t(7323),y=t(7291);const Z=x.Z.div(a||(a=(0,w.Z)(["\n  overflow: hidden;\n  /* padding-top: 4rem; */\n\n  width: ",";\n  margin: 0 auto;\n  height: ",";\n\n  "," {\n    padding-top: 0rem;\n  }\n"])),(n=>n.width+"%"),(n=>n.height+"%"),y.mq.mobileBig),F=x.Z.div(i||(i=(0,w.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 2rem;\n"]))),v=x.Z.div(r||(r=(0,w.Z)(["\n  img {\n    position: absolute;\n    width: 5%;\n    right: 30%;\n    height: 100%;\n  }\n  .ant-input-affix-wrapper {\n    /* width: 20rem; */\n    height: 4rem;\n  }\n  "," {\n    margin-left: auto;\n\n    .ant-input-affix-wrapper {\n      width: 10rem;\n    }\n  }\n"])),y.mq.mobileBig),k=(x.Z.div(o||(o=(0,w.Z)(["\n  width: 100%;\n  height: 100vh;\n\n  .gallery {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n    width: 100%;\n    height: 100%;\n    margin: 0 auto;\n    margin-top: 2.5rem;\n  }\n\n  .gallery-item {\n    width: ",";\n    height: ",";\n    border: 1px solid #ddd;\n    text-align: center;\n    margin-bottom: 7rem;\n  }\n\n  .gallery-item img {\n    width: 100%;\n    height: 100%;\n    margin-bottom: 0.625rem;\n  }\n"])),(n=>n.width+"rem"),(n=>n.height+"rem")),x.Z.div(l||(l=(0,w.Z)(["\n  gap: 2%;\n  margin: 0px auto;\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  z-index: 2;\n  > a {\n    display: block;\n    width: 32%;\n    margin-bottom: 3rem;\n  }\n  .image-grid {\n    text-align: center;\n    p {\n      font-size: 1.8rem;\n      margin: 1rem 0;\n      color: ",";\n    }\n  }\n  .image-item {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    background: #000;\n    border-radius: 1rem;\n    width: 100%;\n    aspect-ratio: 1/1;\n    overflow: hidden;\n    img {\n      width: 100%;\n      text-align: center;\n    }\n  }\n  .loading {\n    height: 10rem;\n    margin: 3rem;\n    text-align: center;\n    font-size: 2rem;\n  }\n  "," {\n    > a {\n      width: 49%;\n      margin-bottom: 1rem;\n    }\n    .image-grid p {\n      font-size: 1.6rem;\n    }\n  }\n"])),y.O9.black,y.mq.mobileBig)),j=x.Z.div(s||(s=(0,w.Z)(["\n  body {\n    background-color: #eee;\n    font-size: 14px;\n    color: #000;\n    margin: 0;\n    padding: 0;\n  }\n  .swiper-pagination {\n    text-align: center;\n    padding: 0 2rem 0.5rem;\n  }\n  .swiper {\n    display: flex;\n    width: 100%;\n    height: 100%;\n    padding-top: 4rem;\n    padding-bottom: 6rem;\n  }\n\n  .swiper-slide {\n    background-position: center;\n    background-size: cover;\n    width: 30rem;\n    height: 30rem;\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  button {\n    font-family: ",";\n  }\n"])),y.Rq.kotraHope),C=x.Z.div(c||(c=(0,w.Z)(["\n  position: relative;\n  background: ",";\n  border: 2px solid ",";\n  border-width: 2px 0;\n  margin-top: 3rem;\n\n  .rce-container-input {\n    padding: 0 2rem;\n    background-color: #fafafa;\n  }\n"])),y.O9.white,y.O9.greenDeep),O=(x.Z.h3(d||(d=(0,w.Z)(["\n  padding-left: 2.8rem;\n  padding-bottom: 3rem;\n  background: url(",")\n    no-repeat left 0.25rem/2.3rem;\n  color: ",";\n"])),"/images/information/logo1.svg",y.O9.greenDeep),x.Z.div(m||(m=(0,w.Z)(["\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid ",";\n  padding: 2rem 1rem;\n  position: relative;\n  h3 {\n    display: inline-block;\n    flex: 1;\n    text-align: center;\n  }\n  p {\n    font-size: 1.5rem;\n    text-align: right;\n    color: ",";\n  }\n\n  "," {\n    flex-wrap: wrap;\n    h3,\n    p {\n      width: 100%;\n      display: block;\n    }\n    p {\n      margin-top: 1rem;\n      text-align: center;\n    }\n  }\n"])),y.O9.grayBar,y.O9.grayDeep,y.mq.mobileBig)),S=x.Z.div(u||(u=(0,w.Z)(["\n  display: block;\n  width: 100%;\n  height: 100%;\n"]))),T=x.Z.div(g||(g=(0,w.Z)(["\n  overflow: auto;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  font-size: 1.6rem;\n\n  pre {\n    line-height: 1.5;\n    margin: 2rem 0;\n    text-align: center;\n  }\n"]))),z=x.Z.div(p||(p=(0,w.Z)(["\n  text-align: right;\n  width: 100%;\n  height: 100%;\n  margin-top: 1.8rem;\n  position: relative;\n  z-index: 10;\n\n  button {\n    //margin-left: 1rem;\n  }\n"]))),A=(x.Z.div(h||(h=(0,w.Z)(["\n  /* background-color: #fafafa;\n  padding-bottom: 2rem; */\n"]))),x.Z.div(b||(b=(0,w.Z)(["\n  max-height: 30rem;\n  overflow-y: auto;\n  .ant-btn {\n    font-size: 1.4rem;\n  }\n"])))),D=x.Z.div(f||(f=(0,w.Z)(["\n  position: relative;\n  background: #fafafa;\n  border: 1px solid #f7f7f7;\n  border-top: 2px solid ",";\n  border-bottom: 2px solid ",";\n  margin: 3rem 0 2rem;\n  padding: 2rem;\n"])),y.O9.greenDeep,y.O9.greenDeep)}}]);
//# sourceMappingURL=341.a1f0b83a.chunk.js.map