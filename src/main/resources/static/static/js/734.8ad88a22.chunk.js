"use strict";(self.webpackChunkkindergarden=self.webpackChunkkindergarden||[]).push([[734],{7734:(e,a,c)=>{c.r(a),c.d(a,{default:()=>x});var s=c(6834),t=c(2791),i=c(5847),n=(c(3955),c(3353)),r=c(4155),o=c(7689),l=c(1087),d=c(724),h=c(315),u=c(3359),g=c(1717),p=c(747),k=c(5816),f=c(2603),m=c(8188),y=c(184);const j=[{inotice:0,noticeTitle:"",noticeContents:"",kidNm:"",iclass:0,picCheck:0,cmtCheck:0,noticeCheck:0,createdAt:""}],x=()=>{const e=(0,o.s0)(),{pathname:a,search:c}=(0,o.TH)(),[x,T]=(0,l.lr)(),[C,S]=(0,t.useState)(j),[V,F]=(0,t.useState)(3),[L,b]=(0,t.useState)(0),v=(new Date).getFullYear(),N=x.get("year"),w=x.get("ikid"),Z=x.get("page"),D=x.get("iclass"),q=x.get("searchValue")||"",{loginState:z,isLogin:A,isParentLogin:O,isTeacherLogin:U,isAdminLogin:B}=(0,d.Z)(),E=z.kidList,[H,P]=(0,t.useState)(""),[Y,_]=(0,t.useState)(""),[G,I]=(0,t.useState)(!1),[J,K]=(0,t.useState)();(0,t.useEffect)((()=>{if(O){if("0"===w)return P("\uc5f0\uacb0 \uc624\ub958"),_("\uc5f0\uacb0\ub41c \uc6d0\uc0dd \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),K(-1),void I(!0);(0,u.Dq)({page:Z,year:N,ikid:w,fromTo:V,search:"",errorFn:Q,successFn:M})}else if(A){if(!(U&&D==z.iclass||B))return P("\uc811\uadfc \uc81c\ud55c"),_("\ub2f4\ub2f9\ud55c \ubc18 \uc54c\ub9bc\uc7a5\ub9cc \uc5f4\ub78c \uac00\ub2a5\ud569\ub2c8\ub2e4."),K(-1),void I(!0);(0,u.yu)({page:Z,year:N,iclass:D,fromTo:V,search:q,errorFn:Q,successFn:M})}else I(!0),P("\ud68c\uc6d0 \uc804\uc6a9 \ud398\uc774\uc9c0"),_("\ub85c\uadf8\uc778 \ud68c\uc6d0\ub9cc \uc811\uadfc \uac00\ub2a5\ud569\ub2c8\ub2e4."),K("/login")}),[N,w,D,Z,V]);const M=e=>{S(e.list),b(e.noticeCnt)},Q=e=>{console.log(e);const a=A?"/ind?year=".concat(N,"&page=1&iclass=").concat(D,"&searchValue=").concat(q):"/ind?year=".concat(N,"&page=1&ikid=").concat(w,"&searchValue=").concat(q);3!=V?(F(3),K(a)):K(-1)},R=a=>{const c=a.target.value,s=A?"/ind?year=".concat(N,"&page=1&iclass=").concat(D,"&searchValue=").concat(q,"&fromTo="):"/ind?year=".concat(N,"&page=1&ikid=").concat(w,"&searchValue=").concat(q,"&fromTo="),t=A&&"teacher"==c?1:A&&"parent"==c?0:O&&"parent"==c?1:O&&"teacher"==c?0:3;e(s+t,{state:{writer:c}}),F(t)},W=e=>{I(!0),P("\ub370\uc774\ud130 \uc5c6\uc74c"),_(e),T({page:1,year:N,iclass:D,fromTo:V,searchValue:""})};return(0,y.jsxs)(n.Nm,{children:[(0,y.jsx)(g.Z,{isOpen:G,handleOk:()=>{I(!1),J&&e(J)},title:H,subTitle:Y}),(0,y.jsxs)(n.eN,{children:[(0,y.jsx)(l.rU,{to:"/ind?year=".concat(v,"&page=1&iclass=0"),children:"\uc54c\ub9bc\uc7a5"}),(0,y.jsx)(l.rU,{to:a+c,className:"active",children:"\ucd94\uc5b5\uc568\ubc94"})]}),(0,y.jsxs)(r.BV,{className:"ind-btn-wrap",children:[(0,y.jsxs)(n.ih,{fromTo:V,isLogin:A,children:[(0,y.jsxs)("button",{onClick:e=>R(e),value:"teacher",className:"teacher",children:[A?"\ub0b4\uac00 \uc4f4":"\ub0b4\uac00 \ubc1b\uc740"," \uae00"]}),(0,y.jsxs)("button",{onClick:e=>R(e),value:"parent",className:"parent",children:[A?"\ub0b4\uac00 \ubc1b\uc740":"\ub0b4\uac00 \uc4f4"," \uae00"]}),3!=V?(0,y.jsx)("button",{onClick:e=>R(e),value:"all",children:"\ubaa8\uc544\ubcf4\uae30"}):null]}),(0,y.jsxs)(r.hs,{children:[A?(0,y.jsx)(k.Z,{iclass:D,indList:C,year:N,page:Z}):(0,y.jsx)(p.Z,{ikidList:E,indList:C,ikid:w,year:N,page:Z}),(0,y.jsx)(f.Z,{placeholder:"\uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694.",allowClear:!0,onSearch:e=>{(e=>{O?((0,u.Dq)({page:1,year:N,ikid:w,fromTo:V,search:e,errorFn:W,successFn:M}),T({page:1,year:N,ikid:w,fromTo:V,searchValue:e})):A&&((0,u.yu)({page:1,year:N,iclass:D,fromTo:V,search:e,errorFn:W,successFn:M}),T({page:1,year:N,iclass:D,fromTo:V,searchValue:e}))})(e)},size:"large"}),(0,y.jsx)(m.lk,{onClick:()=>{e("/ind/write")},className:"btn",children:"\uae00\uc4f0\uae30"})]})]}),(0,y.jsx)(h.Z,{listData:C,year:N,ikid:w,iclass:D,page:Z}),(0,y.jsx)(i.V_,{children:(0,y.jsx)(s.Z,{defaultCurrent:Z,total:L,pageSize:12,onChange:(a,c)=>{e(A?"/ind?year=".concat(N,"&page=").concat(a,"&iclass=").concat(D,"&fromTo=").concat(V):"/ind?year=".concat(N,"&page=").concat(a,"&ikid=").concat(w,"&fromTo=").concat(V))}})})]})}}}]);
//# sourceMappingURL=734.8ad88a22.chunk.js.map