{"version":3,"file":"static/js/182.151fe179.chunk.js","mappings":"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","sources":["styles/user/notialarm.js","components/user/NotiAlarm.js","atoms/pushState.js","fb/fbconfig.js","api/user/pushApi.js","components/common/NavBar.js","components/common/Footer.js","components/common/SideMenu.js","components/common/SideBar.js","layouts/MainLayout.js"],"sourcesContent":["import styled from \"@emotion/styled\";\nimport { boxStyle, colors } from \"../basic\";\n\nexport const NotiWrap = styled.div`\n  position: relative;\n`;\n\nexport const NotiIcon = styled.div`\n  position: relative;\n  width: 3rem;\n  margin-right: -0.5rem;\n  cursor: pointer;\n  img {\n    width: 100%;\n  }\n\n  :after {\n    content: \"\";\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 0.7rem;\n    height: 0.7rem;\n    background: ${colors.orangeDeep};\n    border-radius: 50%;\n    display: ${props => (props.state ? \"block\" : \"none\")};\n  }\n`;\n","import React from \"react\";\nimport {\n  NotiBox,\n  NotiIcon,\n  NotiList,\n  NotiWrap,\n} from \"../../styles/user/notialarm\";\n\nconst NotiAlarm = ({ state }) => {\n  return (\n    <NotiWrap>\n      <NotiIcon state={state}>\n        <img src={process.env.PUBLIC_URL + \"/images/common/bell_icon.svg\"} />\n      </NotiIcon>\n    </NotiWrap>\n  );\n};\n\nexport default NotiAlarm;\n","import { atom } from \"recoil\";\nimport { recoilPersist } from \"recoil-persist\";\n\nconst { persistAtom } = recoilPersist();\nconst pushState = atom({\n  key: \"pushState\",\n  default: { totalCnt: 0, pushList: {} },\n  effects_UNSTABLE: [persistAtom],\n});\n\nexport default pushState;\n","import { initializeApp } from \"firebase/app\";\nimport { getToken, getMessaging, onMessage } from \"firebase/messaging\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCuIKs9JwV9hTJyHRpthcaeZesm0h-Av1A\",\n  authDomain: \"preschoolhome-dfd2f.firebaseapp.com\",\n  projectId: \"preschoolhome-dfd2f\",\n  storageBucket: \"preschoolhome-dfd2f.appspot.com\",\n  messagingSenderId: \"1048681571637\",\n  appId: \"1:1048681571637:web:814c80c8d96efd581b187c\",\n  measurementId: \"G-0XB87NYZ32\",\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst messaging = getMessaging(firebaseApp);\n\nexport const getFirebaseToken = async () => {\n  return await getToken(messaging, {\n    vapidKey:\n      \"BIGyGypgvEnUf_IZ6F_4nORnyj759Hpr3B4qAW5-q1VCJndDdabc87cjOyn4E83PkosZeEbToaGk2Nt0qhmufGk\",\n  });\n};\n\nexport const onMessageListener = () => {\n  return new Promise(resolve => {\n    onMessage(messaging, payload => {\n      console.log(\"onMessage\");\n      console.log(payload);\n      resolve(payload);\n    });\n  });\n};\n\nexport const onTokenRefresh = async () => {\n  return await getFirebaseToken()\n    .then(function (refreshedToken) {\n      console.log(refreshedToken);\n      console.log(\"Token refreshed.\");\n      return refreshedToken;\n    })\n    .catch(function (err) {\n      console.log(\"Unable to retrieve refreshed token \", err);\n    });\n};\n","import { getFirebaseToken, onMessageListener } from \"../../fb/fbconfig\";\nimport jwtAxios from \"../../util/jwtUtil\";\nimport { SERVER_URL } from \"../config\";\n\nconst parentFbPath = `${SERVER_URL}/api/parent/firebase-token`;\nconst teacherFbPath = `${SERVER_URL}/api/teacher/firebase-token`;\n\nexport const patchTeacherFbToken = async ({ params, successFn }) => {\n  try {\n    const res = await jwtAxios.patch(`${teacherFbPath}`, params);\n    const status = res.status.toString();\n    if (status.charAt(0) === \"2\") {\n      successFn(res);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const patchParentFbToken = async ({ params, successFn }) => {\n  try {\n    const res = await jwtAxios.patch(`${parentFbPath}`, params);\n    const status = res.status.toString();\n    if (status.charAt(0) === \"2\") {\n      successFn(res);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getFbToken = async successFn => {\n  try {\n    const firebaseToken = await getFirebaseToken();\n    successFn(firebaseToken);\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import React, { useEffect } from \"react\";\nimport { HeaderBtn, NavWrap } from \"../../styles/basic\";\nimport {\n  GrayBtn,\n  GreenBtn,\n  OrangeBtn,\n  PinkBtn,\n  PurpleBtn,\n} from \"../../styles/ui/buttons\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport useCustomLogin from \"../../hooks/useCustomLogin\";\nimport NotiAlarm from \"../user/NotiAlarm\";\nimport { useRecoilState } from \"recoil\";\nimport pushState from \"../../atoms/pushState\";\nimport { onMessageListener } from \"../../fb/fbconfig\";\nimport {\n  patchParentFbToken,\n  patchTeacherFbToken,\n  getFbToken,\n} from \"../../api/user/pushApi\";\n\nconst NavBar = () => {\n  const navigate = useNavigate();\n  const currentYear = new Date().getFullYear();\n  // 로그인정보 체크\n  const {\n    moveToPath,\n    doLogout,\n    loginState,\n    isLogin,\n    isAdminLogin,\n    isParentLogin,\n    isTeacherLogin,\n    refreshAccessToken,\n  } = useCustomLogin();\n  const ikidList = loginState.kidList;\n  const iclass = isLogin && !isTeacherLogin ? 0 : loginState.iclass;\n  const iteacher = loginState.iteacher;\n\n  // 로그아웃\n  const handleLogout = () => {\n    doLogout();\n    moveToPath(\"/\");\n  };\n  // 푸시알림\n  const [notiPush, setNotiPush] = useRecoilState(pushState);\n\n  // 알림사용 승인 후 firebase 토큰 가져오기\n  useEffect(() => {\n    if (Notification.permission !== \"granted\") {\n      Notification.requestPermission().then(permission => {\n        if (permission === \"granted\") {\n          getFbToken(successFn);\n        }\n      });\n    } else {\n      getFbToken(successFn);\n    }\n  }, [loginState]);\n  //firebase 토큰가져오기 성공 시 서버로 변경된 토큰 보냄\n  const successFn = res => {\n    const userFirebaseToken = isParentLogin\n      ? loginState.prFirebaseToken\n      : loginState.firebaseToken;\n\n    if (userFirebaseToken !== res && loginState.accessToken) {\n      let params = {\n        iteacher: loginState.iteacher,\n        firebaseToken: res,\n      };\n      if (isParentLogin) {\n        params = {\n          iparent: loginState.iparent,\n          firebaseToken: res,\n        };\n        patchParentFbToken({ params, successFn: successrefrash });\n      } else {\n        patchTeacherFbToken({ params, successFn: successrefrash });\n      }\n      console.log(params);\n    }\n  };\n\n  // firebase 토큰 갱신 하면 로그인 정보 다시 가져옴\n  const successrefrash = res => {\n    // const resultNum = res.data.result;\n    // if (resultNum === 1) {\n    //   refreshAccessToken();\n    // } else {\n    //   console.log(\"firebase 토큰업데이트 실패\");\n    // }\n    refreshAccessToken();\n  };\n\n  // 알림체크\n  onMessageListener()\n    .then(payload => {\n      const data = JSON.parse(payload.data);\n      console.log(data);\n      setNotiPush(prev => {\n        const copyDm = { ...prev };\n        const prevDm = copyDm.pushList[data.idm] || {\n          unCheckedMsgCnt: 0,\n          data: null,\n        };\n        prevDm.unCheckedMsgCnt++;\n        prevDm.data = data;\n        copyDm.pushList[data.idm] = prevDm;\n        copyDm.totalCnt++;\n        return copyDm;\n      });\n    })\n    .catch(error => console.log(error));\n\n  // console.log(\"리프레시\", loginState.accessToken);\n  // console.log(\"기존\", loginState.accessToken);\n  console.log(notiPush);\n  return (\n    <NavWrap>\n      <Link to={\"/\"} className=\"nav-logo\">\n        <img src={process.env.PUBLIC_URL + \"/images/common/header/logo.svg\"} />\n      </Link>\n      <p>\n        {isLogin\n          ? `${loginState.teacherNm} 환영합니다.`\n          : isParentLogin\n          ? \"학부모님 환영합니다.\"\n          : null}\n      </p>\n      {/* 푸시알림 */}\n      {!isAdminLogin ? (\n        <NotiAlarm state={notiPush.totalCnt === 0 ? false : true} />\n      ) : null}\n\n      <HeaderBtn>\n        {isLogin ? (\n          <>\n            <GrayBtn\n              className=\"nav-btn\"\n              onClick={e =>\n                navigate(`/ind?year=${currentYear}&page=1&iclass=${iclass}`)\n              }\n            >\n              알림장목록\n            </GrayBtn>\n\n            <PurpleBtn\n              className=\"nav-btn\"\n              onClick={e => navigate(`/admin?page=1&iclass=${iclass}`)}\n            >\n              학부모관리\n            </PurpleBtn>\n            <OrangeBtn\n              className=\"nav-btn\"\n              onClick={e =>\n                navigate(`/admin/student?page=1&kidCheck=${iclass}`)\n              }\n            >\n              원생관리\n            </OrangeBtn>\n            {isTeacherLogin ? (\n              <PinkBtn\n                className=\"nav-btn\"\n                onClick={e =>\n                  navigate(`/admin/teacher/edit?iteacher=${iteacher}`)\n                }\n              >\n                정보수정\n              </PinkBtn>\n            ) : null}\n            <GreenBtn\n              onClick={() => {\n                handleLogout();\n              }}\n            >\n              로그아웃\n            </GreenBtn>\n          </>\n        ) : isParentLogin ? (\n          <>\n            <GrayBtn\n              className=\"nav-btn\"\n              onClick={e =>\n                navigate(\n                  `/ind?year=${currentYear}&page=1&ikid=${\n                    ikidList[0] ? ikidList[0].ikid : 0\n                  }`,\n                )\n              }\n            >\n              알림장\n            </GrayBtn>\n            <OrangeBtn\n              className=\"nav-btn\"\n              onClick={e =>\n                navigate(\n                  `/mypage?year=${currentYear}&ikid=${\n                    ikidList[0] ? ikidList[0].ikid : 0\n                  }`,\n                )\n              }\n            >\n              마이페이지\n            </OrangeBtn>\n            <GreenBtn\n              onClick={() => {\n                handleLogout();\n              }}\n            >\n              로그아웃\n            </GreenBtn>\n          </>\n        ) : (\n          <>\n            <OrangeBtn onClick={e => navigate(\"user/accounts\")}>\n              회원가입\n            </OrangeBtn>\n            <GreenBtn onClick={e => navigate(\"login\")}>로그인</GreenBtn>\n          </>\n        )}\n      </HeaderBtn>\n    </NavWrap>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\nimport { FooterBg, FooterBus, FooterWrap } from \"../../styles/basic\";\nimport { Link } from \"react-router-dom\";\n\nconst Footer = () => {\n  return (\n    <FooterWrap>\n      <FooterBus />\n      <FooterBg>\n        <Link to=\"/\">copyright 떡잎방범대</Link>\n      </FooterBg>\n    </FooterWrap>\n  );\n};\n\nexport default Footer;\n","import { Menu } from \"antd\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useCustomLogin from \"../../hooks/useCustomLogin\";\n\nconst SideMenu = () => {\n  const { isLogin, isParentLogin, isTeacherLogin, loginState } =\n    useCustomLogin();\n  const currentYear = new Date().getFullYear();\n  const ikidList = loginState.kidList;\n  const iclass = isLogin && !isTeacherLogin ? 0 : loginState.iclass;\n  function getItem(label, key, icon, children, type) {\n    return {\n      key,\n      icon,\n      children,\n      label,\n      type,\n    };\n  }\n\n  const teacherItems = [\n    getItem(\n      <Link to={`/admin?page=1&iclass=${iclass}`}>학부모 관리</Link>,\n      \"5-1\",\n    ),\n    getItem(\n      <Link to={`/admin/student?page=1&kidCheck=${iclass}`}>원생 관리</Link>,\n      \"5-2\",\n    ),\n    getItem(<Link to=\"/admin/student/create\">원생 등록</Link>, \"5-3\"),\n    getItem(\n      <Link to={`/ind?year=${currentYear}&page=1&iclass=${iclass}`}>\n        알림장 목록\n      </Link>,\n      \"5-4\",\n    ),\n  ];\n  const items = [\n    getItem(\n      \"유치원 안내\",\n      \"1\",\n      <img\n        src={process.env.PUBLIC_URL + \"/images/common/sidebar/info_icon.svg\"}\n      />,\n      [\n        getItem(<Link to=\"/info/\">유치원 소개</Link>, \"1-1\"),\n        getItem(<Link to=\"/info/class\">유치원 현황</Link>, \"1-2\"),\n        getItem(<Link to=\"/info/location\">오시는 길</Link>, \"1-3\"),\n      ],\n    ),\n    getItem(\n      \"교육정보\",\n      \"2\",\n      <img\n        src={process.env.PUBLIC_URL + \"/images/common/sidebar/education.svg\"}\n      />,\n      [\n        // getItem(<Link to=\"/edu\">교육과정</Link>, \"2-1\"),\n        // getItem(<Link to=\"/edu/specialact\">방과후활동</Link>, \"2-2\"),\n        getItem(<Link to=\"/edu/hospital?page=1\">예방접종기관정보</Link>, \"2-3\"),\n      ],\n    ),\n    getItem(\n      \"활동앨범\",\n      \"3\",\n      <Link to=\"/album\">\n        <img\n          src={process.env.PUBLIC_URL + \"/images/common/sidebar/gallery.svg\"}\n        />\n      </Link>,\n    ),\n    getItem(\n      \"유치원 소식\",\n      \"4\",\n      <Link to=\"/notice\">\n        <img src={process.env.PUBLIC_URL + \"/images/common/sidebar/news.svg\"} />\n      </Link>,\n    ),\n  ];\n  if (isLogin && !isTeacherLogin) {\n    items.push(\n      getItem(\n        \"관리자\",\n        \"5\",\n        <img\n          src={process.env.PUBLIC_URL + \"/images/common/sidebar/manager.svg\"}\n        />,\n        teacherItems.concat([\n          getItem(\n            <Link to={`/admin/teacher?page=1&iclass=${iclass}&tcIsDel=0`}>\n              선생님 관리\n            </Link>,\n            \"5-5\",\n          ),\n        ]),\n      ),\n    );\n  }\n  if (isTeacherLogin) {\n    items.push(\n      getItem(\n        \"관리자\",\n        \"5\",\n        <img\n          src={process.env.PUBLIC_URL + \"/images/common/sidebar/manager.svg\"}\n        />,\n        teacherItems,\n      ),\n    );\n  }\n  if (isParentLogin) {\n    items.push(\n      getItem(\n        \"회원전용\",\n        \"6\",\n        <img\n          src={process.env.PUBLIC_URL + \"/images/common/sidebar/user.svg\"}\n        />,\n        [\n          getItem(\n            <Link\n              to={`/ind?year=${currentYear}&page=1&ikid=${\n                ikidList[0] ? ikidList[0].ikid : 0\n              }`}\n            >\n              알림장\n            </Link>,\n            \"6-1\",\n          ),\n          getItem(\n            <Link\n              to={`/mypage?year=${currentYear}&ikid=${\n                ikidList[0] ? ikidList[0].ikid : 0\n              }`}\n            >\n              마이페이지\n            </Link>,\n            \"6-2\",\n          ),\n        ],\n      ),\n    );\n  }\n\n  return (\n    <Menu\n      defaultSelectedKeys={[\"\"]}\n      mode=\"inline\"\n      items={items}\n      style={{ border: 0 }}\n    />\n  );\n};\n\nexport default SideMenu;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { LogoWrap, SideBarWrap } from \"../../styles/basic\";\nimport Sider from \"antd/es/layout/Sider\";\nimport SideMenu from \"./SideMenu\";\nimport { AllBtn } from \"../../styles/ui/buttons\";\n\nconst SideBar = () => {\n  const [collapsed, setCollapsed] = useState(false);\n  const sideMenuRef = useRef(null);\n  useEffect(() => {\n    const handleOutsideClose = e => {\n      if (\n        window.innerWidth <= 798 &&\n        !collapsed &&\n        !sideMenuRef.current.contains(e.target)\n      )\n        setCollapsed(true);\n    };\n    document.addEventListener(\"click\", handleOutsideClose);\n\n    return () => document.removeEventListener(\"click\", handleOutsideClose);\n  }, [collapsed]);\n\n  return (\n    <SideBarWrap ref={sideMenuRef}>\n      <Sider\n        breakpoint=\"lg\"\n        onCollapse={(collapsed, type) => {\n          setCollapsed(true);\n        }}\n        trigger={null}\n        collapsible\n        collapsed={collapsed}\n        theme=\"light\"\n      >\n        <LogoWrap>\n          <Link to={\"/\"}>\n            {collapsed ? (\n              <img\n                src={\n                  process.env.PUBLIC_URL + \"/images/common/header/smallLogo.svg\"\n                }\n              />\n            ) : (\n              <img\n                src={process.env.PUBLIC_URL + \"/images/common/header/logo.svg\"}\n              />\n            )}\n          </Link>\n        </LogoWrap>\n        <SideMenu />\n        <AllBtn type=\"text\" onClick={() => setCollapsed(!collapsed)}>\n          {collapsed ? \"펼치기\" : \"접기\"}\n        </AllBtn>\n      </Sider>\n    </SideBarWrap>\n  );\n};\n\nexport default SideBar;\n","import { Layout, theme } from \"antd\";\nimport { AllLayout, WrapMain } from \"../styles/basic\";\nimport NavBar from \"../components/common/NavBar\";\nimport Footer from \"../components/common/Footer\";\nimport SideBar from \"../components/common/SideBar\";\nimport { Outlet } from \"react-router\";\nconst MainLayout = ({ children }) => {\n  return (\n    <AllLayout className=\"layout-wrap\">\n      {/* 사이드바(전체메뉴)영역 */}\n      <SideBar />\n      <Layout>\n        {/* 상단네비영역 */}\n        <NavBar />\n        {/* 컨텐츠영역 */}\n        <WrapMain>\n          <Outlet />\n        </WrapMain>\n      </Layout>\n      {/* 하단푸터 */}\n      <Footer />\n    </AllLayout>\n  );\n};\nexport default MainLayout;\n"],"names":["NotiWrap","styled","div","_templateObject","_taggedTemplateLiteral","NotiIcon","_templateObject2","colors","orangeDeep","props","state","_ref","_jsx","children","src","persistAtom","recoilPersist","atom","key","default","totalCnt","pushList","effects_UNSTABLE","firebaseApp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","messaging","getMessaging","getFirebaseToken","async","getToken","vapidKey","parentFbPath","concat","SERVER_URL","teacherFbPath","getFbToken","successFn","error","console","log","NavBar","navigate","useNavigate","currentYear","Date","getFullYear","moveToPath","doLogout","loginState","isLogin","isAdminLogin","isParentLogin","isTeacherLogin","refreshAccessToken","useCustomLogin","ikidList","kidList","iclass","iteacher","handleLogout","notiPush","setNotiPush","useRecoilState","pushState","useEffect","Notification","permission","requestPermission","then","res","prFirebaseToken","firebaseToken","accessToken","params","iparent","_ref2","jwtAxios","patch","status","toString","charAt","patchParentFbToken","successrefrash","patchTeacherFbToken","Promise","resolve","onMessage","payload","data","JSON","parse","prev","copyDm","prevDm","idm","unCheckedMsgCnt","catch","_jsxs","NavWrap","Link","to","className","teacherNm","NotiAlarm","HeaderBtn","_Fragment","GrayBtn","onClick","e","PurpleBtn","OrangeBtn","PinkBtn","GreenBtn","ikid","Footer","FooterWrap","FooterBus","FooterBg","SideMenu","getItem","label","icon","type","teacherItems","items","push","Menu","defaultSelectedKeys","mode","style","border","SideBar","collapsed","setCollapsed","useState","sideMenuRef","useRef","handleOutsideClose","window","innerWidth","current","contains","target","document","addEventListener","removeEventListener","SideBarWrap","ref","Sider","breakpoint","onCollapse","trigger","collapsible","theme","LogoWrap","AllBtn","AllLayout","Layout","WrapMain","Outlet"],"sourceRoot":""}