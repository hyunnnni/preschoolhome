"use strict";(self.webpackChunkkindergarden=self.webpackChunkkindergarden||[]).push([[615],{6615:(n,e,t)=>{t.r(e),t.d(e,{default:()=>z});var i,s,r,o,a,c,l=t(3990),d=t(3955),m=t(2791),h=t(8188),g=t(7689),p=t(1087),x=t(724),u=t(168),j=t(7323);const f=j.Z.div(i||(i=(0,u.Z)(["\n  position: relative;\n"]))),k=j.Z.div(s||(s=(0,u.Z)(['\n  position: relative;\n  width: 3rem;\n  /* margin-right: -0.5rem; */\n  cursor: pointer;\n  img {\n    width: 100%;\n  }\n\n  :after {\n    content: "";\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 0.7rem;\n    height: 0.7rem;\n    background: ',";\n    border-radius: 50%;\n    display: ",";\n  }\n"])),d.O9.orangeDeep,(n=>n.state?"block":"none")),y=j.Z.div(r||(r=(0,u.Z)(["\n  position: absolute;\n  top: calc(100% + 1rem);\n  left: 50%;\n  transform: translateX(-50%);\n  min-width: 25rem;\n  ",'\n  box-shadow: 0 -2px 10px 1px rgba(0,0,0,0.1);\n  max-height: 0;\n  overflow: hidden;\n  transition: max-height 0.2s;\n  &.active {\n    overflow: inherit;\n    max-height: 30rem;\n  }\n  &.active:before {\n    display: block;\n  }\n  &:before {\n    content: "";\n    display: none;\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n    top: -12px;\n    width: 0;\n    height: 0;\n    border-bottom: 6px solid #fff;\n    border-top: 6px solid transparent;\n    border-left: 6px solid transparent;\n    border-right: 6px solid transparent;\n  }\n'])),d.am),b=j.Z.div(o||(o=(0,u.Z)(["\n  padding: 2rem 1.5rem;\n  max-height: 0;\n  transition: max-height 0.2s;\n  &.active {\n    overflow-y: auto;\n    max-height: 25rem;\n  }\n"]))),v=j.Z.div(a||(a=(0,u.Z)(["\n  position: relative;\n  border-bottom: 1px dashed ",";\n  padding-bottom: 1rem;\n  margin-bottom: 1rem;\n  cursor: pointer;\n  :last-of-type {\n    border-bottom: none;\n    margin-bottom: 0;\n    padding-bottom: 0;\n  }\n  button {\n    position: absolute;\n    right: 0;\n    top: 0;\n    padding: 0;\n    font-size: 0;\n    width: 1.7rem;\n    opacity: 0.5;\n    img {\n      width: 100%;\n    }\n\n    :hover {\n      opacity: 1;\n    }\n  }\n  .noti-kid {\n    color: #999999;\n    margin-bottom: 0.25rem;\n    font-size: 1.2rem;\n  }\n  .noti-title {\n    font-size: 1.3rem;\n    font-weight: 500;\n    span {\n      padding-right: 0.5rem;\n    }\n  }\n"])),d.O9.grayBar),w=j.Z.div(c||(c=(0,u.Z)(["\n  font-size: 1.2rem;\n  text-align: center;\n"])));var C=t(6030),L=t(9386);const{persistAtom:Z}=(0,L.J)(),U=(0,C.cn)({key:"pushState",default:{pushList:[{iuser:0,totalCnt:0,data:[]}]},effects_UNSTABLE:[Z],dangerouslyAllowMutability:!0});var N=t(184);const S=()=>{const[n,e]=(0,C.FV)(U),[t,i]=(0,m.useState)([]),[s,r]=(0,m.useState)(!1),{isLogin:o,loginState:a}=(0,x.Z)(),c=o?"iteacher":"iparent",l=o?a.iteacher:a.iparent,d=n.pushList.filter((n=>Object.prototype.hasOwnProperty.call(n,c)&&n[c]===l)),[h,g]=(0,m.useState)(!1),u=(0,m.useRef)(null);(0,m.useEffect)((()=>{d.length>0?(i(d[0].data),g(!(!d[0].totalCnt||0===d[0].totalCnt))):i([])}),[h]);return console.log(s),(0,N.jsxs)(f,{ref:u,children:[(0,N.jsx)(k,{state:h,onClick:()=>{r(!s)},children:(0,N.jsx)("img",{src:"/images/common/bell_icon.svg"})}),(0,N.jsx)(y,{className:s?"active":"",children:(0,N.jsx)(b,{className:s?"active":"",children:0===t.length?(0,N.jsx)(w,{children:"\uc54c\ub9bc\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):Array.isArray(t)&&t.map(((n,s)=>(0,N.jsxs)(v,{children:[(0,N.jsx)(p.rU,{to:"/ind".concat(n.imemory?"/album":"","/details/").concat(n.inotice||n.imemory,"?ikid=").concat(n.ikid,"&year=2024&page=1"),children:(0,N.jsxs)("ul",{children:[(0,N.jsxs)("li",{className:"noti-kid",children:[n.kidNm," ",n.noticeTitle?"\uc54c\ub9bc\uc7a5":"\ucd94\uc5b5\uc568\ubc94"]}),(0,N.jsxs)("li",{className:"noti-title",children:[(0,N.jsx)("span",{className:"noti-date",children:n.createdAt.split(" ")[0]}),n.noticeTitle||n.memoryTitle]})]})}),(0,N.jsxs)("button",{onClick:()=>(n=>{const s=[...t.slice(0,n),...t.slice(n+1)];i(s),e((e=>{const t=e.pushList.map((e=>(e[c]===l&&(e.data=e.data.filter(((e,t)=>t!==n)),e.totalCnt--),e)));return{...e,pushList:t}}))})(s),children:[(0,N.jsx)("img",{src:"/images/common/close_icon.svg",alt:"\uc54c\ub9bc\uc0ad\uc81c"}),"\uc54c\ub9bc\uc0ad\uc81c"]})]},s)))})})]})};t(4880);var A=t(3014);"".concat(A.L,"/api/parent/firebase-token"),"".concat(A.L,"/api/teacher/firebase-token");const F=()=>{const n=(0,g.s0)(),e=(new Date).getFullYear(),{moveToPath:t,doLogout:i,loginState:s,isLogin:r,isAdminLogin:o,isParentLogin:a,isTeacherLogin:c,refreshAccessToken:l}=(0,x.Z)(),m=s.kidList,u=r&&!c?0:s.iclass,j=s.iteacher,f=()=>{i(),t("/")},[k,y]=(0,C.FV)(U);return(0,N.jsxs)(d.Rw,{children:[(0,N.jsx)(p.rU,{to:"/",className:"nav-logo",children:(0,N.jsx)("img",{src:"/images/common/header/logo.svg"})}),(0,N.jsx)("p",{children:r?"".concat(s.teacherNm," \ud658\uc601\ud569\ub2c8\ub2e4."):a?"\ud559\ubd80\ubaa8\ub2d8 \ud658\uc601\ud569\ub2c8\ub2e4.":null}),a||c?(0,N.jsx)(S,{}):null,(0,N.jsx)(d.rM,{children:r?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.i5,{className:"nav-btn",onClick:t=>n("/ind?year=".concat(e,"&page=1&iclass=").concat(u)),children:"\uc54c\ub9bc\uc7a5\ubaa9\ub85d"}),(0,N.jsx)(h.o4,{className:"nav-btn",onClick:e=>n("/admin?page=1&iclass=".concat(u)),children:"\ud559\ubd80\ubaa8\uad00\ub9ac"}),(0,N.jsx)(h.iI,{className:"nav-btn",onClick:e=>n("/admin/student?page=1&kidCheck=".concat(u)),children:"\uc6d0\uc0dd\uad00\ub9ac"}),c?(0,N.jsx)(h.s2,{className:"nav-btn",onClick:e=>n("/admin/teacher/edit?iteacher=".concat(j)),children:"\uc815\ubcf4\uc218\uc815"}):null,(0,N.jsx)(h.lk,{onClick:()=>{f()},children:"\ub85c\uadf8\uc544\uc6c3"})]}):a?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.i5,{className:"nav-btn",onClick:t=>n("/ind?year=".concat(e,"&page=1&ikid=").concat(m[0]?m[0].ikid:0)),children:"\uc54c\ub9bc\uc7a5"}),(0,N.jsx)(h.iI,{className:"nav-btn",onClick:t=>n("/mypage?year=".concat(e,"&ikid=").concat(m[0]?m[0].ikid:0)),children:"\ub9c8\uc774\ud398\uc774\uc9c0"}),(0,N.jsx)(h.lk,{onClick:()=>{f()},children:"\ub85c\uadf8\uc544\uc6c3"})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.iI,{onClick:e=>n("user/accounts"),children:"\ud68c\uc6d0\uac00\uc785"}),(0,N.jsx)(h.lk,{onClick:e=>n("login"),children:"\ub85c\uadf8\uc778"})]})})]})},I=()=>(0,N.jsxs)(d.xq,{children:[(0,N.jsx)(d.SQ,{}),(0,N.jsx)(d.ae,{children:(0,N.jsx)(p.rU,{to:"/",children:"copyright \ub5a1\uc78e\ubc29\ubc94\ub300"})})]});var P=t(6199),T=t(2949);const O=()=>{const{isLogin:n,isParentLogin:e,isTeacherLogin:t,loginState:i}=(0,x.Z)(),s=(new Date).getFullYear(),r=i.kidList,o=n&&!t?0:i.iclass;function a(n,e,t,i,s){return{key:e,icon:t,children:i,label:n,type:s}}const c=[a((0,N.jsx)(p.rU,{to:"/admin?page=1&iclass=".concat(o),children:"\ud559\ubd80\ubaa8 \uad00\ub9ac"}),"5-1"),a((0,N.jsx)(p.rU,{to:"/admin/student?page=1&kidCheck=".concat(o),children:"\uc6d0\uc0dd \uad00\ub9ac"}),"5-2"),a((0,N.jsx)(p.rU,{to:"/admin/student/create",children:"\uc6d0\uc0dd \ub4f1\ub85d"}),"5-3"),a((0,N.jsx)(p.rU,{to:"/ind?year=".concat(s,"&page=1&iclass=").concat(o),children:"\uc54c\ub9bc\uc7a5 \ubaa9\ub85d"}),"5-4")],l=[a("\uc720\uce58\uc6d0 \uc548\ub0b4","1",(0,N.jsx)("img",{src:"/images/common/sidebar/info_icon.svg"}),[a((0,N.jsx)(p.rU,{to:"/info/",children:"\uc720\uce58\uc6d0 \uc18c\uac1c"}),"1-1"),a((0,N.jsx)(p.rU,{to:"/info/class",children:"\uc720\uce58\uc6d0 \ud604\ud669"}),"1-2"),a((0,N.jsx)(p.rU,{to:"/info/location",children:"\uc624\uc2dc\ub294 \uae38"}),"1-3")]),a("\uad50\uc721\uc815\ubcf4","2",(0,N.jsx)("img",{src:"/images/common/sidebar/education.svg"}),[a((0,N.jsx)(p.rU,{to:"/edu/hospital?page=1",children:"\uc608\ubc29\uc811\uc885\uae30\uad00\uc815\ubcf4"}),"2-3")]),a("\ud65c\ub3d9\uc568\ubc94","3",(0,N.jsx)(p.rU,{to:"/album",children:(0,N.jsx)("img",{src:"/images/common/sidebar/gallery.svg"})})),a("\uc720\uce58\uc6d0 \uc18c\uc2dd","4",(0,N.jsx)(p.rU,{to:"/notice",children:(0,N.jsx)("img",{src:"/images/common/sidebar/news.svg"})}))];return n&&!t&&l.push(a("\uad00\ub9ac\uc790","5",(0,N.jsx)("img",{src:"/images/common/sidebar/manager.svg"}),c.concat([a((0,N.jsx)(p.rU,{to:"/admin/teacher?page=1&iclass=".concat(o,"&tcIsDel=0"),children:"\uc120\uc0dd\ub2d8 \uad00\ub9ac"}),"5-5")]))),t&&l.push(a("\uad00\ub9ac\uc790","5",(0,N.jsx)("img",{src:"/images/common/sidebar/manager.svg"}),c)),e&&l.push(a("\ud68c\uc6d0\uc804\uc6a9","6",(0,N.jsx)("img",{src:"/images/common/sidebar/user.svg"}),[a((0,N.jsx)(p.rU,{to:"/ind?year=".concat(s,"&page=1&ikid=").concat(r[0]?r[0].ikid:0),children:"\uc54c\ub9bc\uc7a5"}),"6-1"),a((0,N.jsx)(p.rU,{to:"/mypage?year=".concat(s,"&ikid=").concat(r[0]?r[0].ikid:0),children:"\ub9c8\uc774\ud398\uc774\uc9c0"}),"6-2")])),(0,N.jsx)(T.Z,{defaultSelectedKeys:[""],mode:"inline",items:l,style:{border:0}})},E=()=>{const[n,e]=(0,m.useState)(!1),t=(0,m.useRef)(null);return(0,m.useEffect)((()=>{const i=i=>{window.innerWidth<=798&&!n&&!t.current.contains(i.target)&&e(!0)};return document.addEventListener("click",i),()=>document.removeEventListener("click",i)}),[n]),(0,N.jsx)(d.WP,{ref:t,children:(0,N.jsxs)(P.Z,{breakpoint:"lg",onCollapse:(n,t)=>{e(!0)},trigger:null,collapsible:!0,collapsed:n,theme:"light",children:[(0,N.jsx)(d.Z3,{children:(0,N.jsx)(p.rU,{to:"/",children:n?(0,N.jsx)("img",{src:"/images/common/header/smallLogo.svg"}):(0,N.jsx)("img",{src:"/images/common/header/logo.svg"})})}),(0,N.jsx)(O,{}),(0,N.jsx)(h.sd,{type:"text",onClick:()=>e(!n),children:n?"\ud3bc\uce58\uae30":"\uc811\uae30"})]})})},z=n=>{let{children:e}=n;return(0,N.jsxs)(d.Fw,{className:"layout-wrap",children:[(0,N.jsx)(E,{}),(0,N.jsxs)(l.Z,{children:[(0,N.jsx)(F,{}),(0,N.jsx)(d.Py,{children:(0,N.jsx)(g.j3,{})})]}),(0,N.jsx)(I,{})]})}},9386:(n,e)=>{e.J=void 0;e.J=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"===typeof window)return{persistAtom:()=>{}};const{key:e="recoil-persist",storage:t=localStorage,converter:i=JSON}=n,s=(n,e,t,i)=>{i?delete e[t]:e[t]=n,a(e)},r=()=>{const n=t.getItem(e);return null===n||void 0===n?{}:"string"===typeof n?o(n):"function"===typeof n.then?n.then(o):{}},o=n=>{if(void 0===n)return{};try{return i.parse(n)}catch(e){return console.error(e),{}}},a=n=>{try{"function"===typeof t.mergeItem?t.mergeItem(e,i.stringify(n)):t.setItem(e,i.stringify(n))}catch(s){console.error(s)}};return{persistAtom:n=>{let{onSet:e,node:t,trigger:i,setSelf:o}=n;if("get"===i){const n=r();"function"===typeof n.then&&n.then((n=>{n.hasOwnProperty(t.key)&&o(n[t.key])})),n.hasOwnProperty(t.key)&&o(n[t.key])}e((async(n,e,i)=>{const o=r();"function"===typeof o.then?o.then((e=>s(n,e,t.key,i))):s(n,o,t.key,i)}))}}}}}]);
//# sourceMappingURL=615.fc33e092.chunk.js.map