"use strict";(self.webpackChunkkindergarden=self.webpackChunkkindergarden||[]).push([[615],{6615:(n,e,t)=>{t.r(e),t.d(e,{default:()=>_});var i,s,o,r,a,c,l,d=t(3990),m=t(7291),h=t(2791),g=t(8188),p=t(7689),x=t(1087),u=t(724),j=t(168),f=t(7323),k=t(5578),b=t(2554);const y=f.Z.div(i||(i=(0,j.Z)(["\n  position: relative;\n"]))),v=f.Z.div(s||(s=(0,j.Z)(["\n  position: relative;\n  width: 3rem;\n  /* margin-right: -0.5rem; */\n  cursor: pointer;\n  img {\n    width: 100%;\n    animation: ",';\n  }\n\n  :after {\n    content: "";\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 0.7rem;\n    height: 0.7rem;\n    background: ',";\n    border-radius: 50%;\n    display: ",";\n  }\n"])),(n=>n.state?(0,b.iv)(o||(o=(0,j.Z)(["\n            "," 0.1s alternate infinite\n          "])),k.zU):"none"),m.O9.orangeDeep,(n=>n.state?"block":"none")),w=f.Z.div(r||(r=(0,j.Z)(["\n  position: absolute;\n  top: calc(100% + 1rem);\n  left: 50%;\n  transform: translateX(-50%);\n  min-width: 25rem;\n  ",'\n  box-shadow: 0 -2px 10px 1px rgba(0,0,0,0.1);\n  max-height: 0;\n  overflow: hidden;\n  transition: max-height 0.2s;\n  &.active {\n    overflow: inherit;\n    max-height: 30rem;\n  }\n  &.active:before {\n    display: block;\n  }\n  &:before {\n    content: "";\n    display: none;\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n    top: -12px;\n    width: 0;\n    height: 0;\n    border-bottom: 6px solid #fff;\n    border-top: 6px solid transparent;\n    border-left: 6px solid transparent;\n    border-right: 6px solid transparent;\n  }\n'])),m.am),C=f.Z.div(a||(a=(0,j.Z)(["\n  padding: 2rem 1.5rem;\n  max-height: 0;\n  transition: max-height 0.2s;\n  &.active {\n    overflow-y: auto;\n    max-height: 25rem;\n  }\n"]))),L=f.Z.div(c||(c=(0,j.Z)(["\n  position: relative;\n  border-bottom: 1px dashed ",";\n  padding-bottom: 1rem;\n  margin-bottom: 1rem;\n  cursor: pointer;\n  :last-of-type {\n    border-bottom: none;\n    margin-bottom: 0;\n    padding-bottom: 0;\n  }\n  button {\n    position: absolute;\n    right: 0;\n    top: 0;\n    padding: 0;\n    font-size: 0;\n    width: 1.7rem;\n    opacity: 0.5;\n    img {\n      width: 100%;\n    }\n\n    :hover {\n      opacity: 1;\n    }\n  }\n  .noti-kid {\n    color: #999999;\n    margin-bottom: 0.25rem;\n    font-size: 1.2rem;\n  }\n  .noti-title {\n    font-size: 1.3rem;\n    font-weight: 500;\n    ","\n    span {\n      padding-right: 0.5rem;\n    }\n  }\n"])),m.O9.grayBar,m.LH.line2),U=f.Z.div(l||(l=(0,j.Z)(["\n  font-size: 1.2rem;\n  text-align: center;\n"])));var Z=t(6030),N=t(9386);const{persistAtom:S}=(0,N.J)(),A=(0,Z.cn)({key:"pushState",default:{pushList:[]},effects_UNSTABLE:[S],dangerouslyAllowMutability:!0});var T=t(184);const I=()=>{const[n,e]=(0,Z.FV)(A),[t,i]=(0,h.useState)(!1),{isLogin:s,loginState:o}=(0,u.Z)(),r=s?"iteacher":"iparent",a=s?o.iteacher:o.iparent,c=n.pushList.filter((n=>Object.prototype.hasOwnProperty.call(n,r)&&n[r]===a));let l=[],d=!1;c.length>0&&(l=c[0].data,d=!(!c[0].totalCnt||0===c[0].totalCnt));const m=(0,h.useRef)(null);(0,h.useEffect)((()=>{}),[d]);return(0,T.jsxs)(y,{ref:m,children:[(0,T.jsx)(v,{state:d,onClick:()=>{i(!t),!t&&d&&e((n=>{const e=n.pushList.map((n=>(n[r]===a&&(n.totalCnt=0),n)));return{...n,pushList:e}}))},children:(0,T.jsx)("img",{src:"/images/common/bell_icon.svg"})}),(0,T.jsx)(w,{className:t?"active":"",children:(0,T.jsx)(C,{className:t?"active":"",children:0===l.length?(0,T.jsx)(U,{children:"\uc54c\ub9bc\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):Array.isArray(l)&&l.map(((n,t)=>(0,T.jsxs)(L,{children:[(0,T.jsx)(x.rU,{to:"/ind".concat(n.imemory?"/album":"","/details/").concat(n.inotice||n.imemory,"?ikid=").concat(n.ikid,"&year=2024&page=1"),children:(0,T.jsxs)("ul",{children:[(0,T.jsxs)("li",{className:"noti-kid",children:[(0,T.jsx)("span",{className:"noti-date",children:n.createdAt||n.cmtCreatedAt})," ",(0,T.jsx)("br",{}),n.kidNm," ",n.inotice?"\uc54c\ub9bc\uc7a5":"\ucd94\uc5b5\uc568\ubc94"," ",n.noticeComment||n.noticeComment?"\uc0c8 \ub313\uae00":null]}),(0,T.jsxs)("li",{className:"noti-title",children:[n.noticeTitle||n.memoryTitle,n.noticeComment||n.noticeComment]})]})}),(0,T.jsxs)("button",{onClick:()=>(n=>{const t=[...l.slice(0,n),...l.slice(n+1)];l=t,e((e=>{const t=e.pushList.map((e=>(e[r]===a&&(e.data=e.data.filter(((e,t)=>t!==n))),e)));return{...e,pushList:t}}))})(t),children:[(0,T.jsx)("img",{src:"/images/common/close_icon.svg",alt:"\uc54c\ub9bc\uc0ad\uc81c"}),"\uc54c\ub9bc\uc0ad\uc81c"]})]},t)))})})]})};t(4880);var P=t(3014);"".concat(P.L,"/api/parent/firebase-token"),"".concat(P.L,"/api/teacher/firebase-token");const F=()=>{const n=(0,p.s0)(),e=(new Date).getFullYear(),{moveToPath:t,doLogout:i,loginState:s,isLogin:o,isName:r,isAdminLogin:a,isParentLogin:c,isTeacherLogin:l,refreshAccessToken:d}=(0,u.Z)(),h=s.kidList,j=o&&!l?0:s.iclass,f=s.iteacher,k=()=>{i(),t("/")};return(0,T.jsxs)(m.Rw,{children:[(0,T.jsx)(x.rU,{to:"/",className:"nav-logo",children:(0,T.jsx)("img",{src:"/images/common/header/logo.svg"})}),(0,T.jsx)("p",{children:o||c?"".concat(r,"\ub2d8 \ud658\uc601\ud569\ub2c8\ub2e4."):null}),c||l?(0,T.jsx)(I,{}):null,(0,T.jsx)(m.rM,{children:o?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(g.i5,{className:"nav-btn",onClick:t=>n("/ind?year=".concat(e,"&page=1&iclass=").concat(j,"&fromTo=3")),children:"\uc54c\ub9bc\uc7a5\ubaa9\ub85d"}),(0,T.jsx)(g.o4,{className:"nav-btn",onClick:e=>n("/admin?page=1&iclass=".concat(j)),children:"\ud559\ubd80\ubaa8\uad00\ub9ac"}),(0,T.jsx)(g.iI,{className:"nav-btn",onClick:e=>n("/admin/student?page=1&kidCheck=".concat(j)),children:"\uc6d0\uc0dd\uad00\ub9ac"}),l?(0,T.jsx)(g.s2,{className:"nav-btn",onClick:e=>n("/admin/teacher/edit?iteacher=".concat(f)),children:"\uc815\ubcf4\uc218\uc815"}):null,(0,T.jsx)(g.lk,{onClick:()=>{k()},children:"\ub85c\uadf8\uc544\uc6c3"})]}):c?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(g.i5,{className:"nav-btn",onClick:t=>n("/ind?year=".concat(e,"&page=1&ikid=").concat(h[0]?h[0].ikid:0,"&fromTo=3")),children:"\uc54c\ub9bc\uc7a5"}),(0,T.jsx)(g.iI,{className:"nav-btn",onClick:t=>n("/mypage?year=".concat(e,"&ikid=").concat(h[0]?h[0].ikid:0)),children:"\ub9c8\uc774\ud398\uc774\uc9c0"}),(0,T.jsx)(g.lk,{onClick:()=>{k()},children:"\ub85c\uadf8\uc544\uc6c3"})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(g.iI,{onClick:e=>n("user/accounts"),children:"\ud68c\uc6d0\uac00\uc785"}),(0,T.jsx)(g.lk,{onClick:e=>n("login"),children:"\ub85c\uadf8\uc778"})]})})]})},O=()=>{const n=(0,p.s0)();return(0,T.jsxs)(m.xq,{children:[(0,T.jsx)(m.SQ,{onClick:()=>n("/about")}),(0,T.jsx)(m.ae,{children:(0,T.jsx)(x.rU,{to:"/about",children:"copyright \ub5a1\uc78e\ubc29\ubc94\ub300"})})]})};var z=t(6199),E=t(2949);const D=()=>{const{isLogin:n,isParentLogin:e,isTeacherLogin:t,loginState:i}=(0,u.Z)(),s=(new Date).getFullYear(),o=i.kidList,r=n&&!t?0:i.iclass,a=i.iteacher;function c(n,e,t,i,s){return{key:e,icon:t,children:i,label:n,type:s}}const l=[c((0,T.jsx)(x.rU,{to:"/admin?page=1&iclass=".concat(r),children:"\ud559\ubd80\ubaa8 \uad00\ub9ac"}),"5-1"),c((0,T.jsx)(x.rU,{to:"/admin/student?page=1&kidCheck=".concat(r),children:"\uc6d0\uc0dd \uad00\ub9ac"}),"5-2"),c((0,T.jsx)(x.rU,{to:"/admin/student/create",children:"\uc6d0\uc0dd \ub4f1\ub85d"}),"5-3"),c((0,T.jsx)(x.rU,{to:"/ind?year=".concat(s,"&page=1&iclass=").concat(r,"&fromTo=3"),children:"\uc54c\ub9bc\uc7a5 \ubaa9\ub85d"}),"5-4")],d=[c("\uc720\uce58\uc6d0 \uc548\ub0b4","1",(0,T.jsx)("img",{src:"/images/common/sidebar/info_icon.svg"}),[c((0,T.jsx)(x.rU,{to:"/info/",children:"\uc720\uce58\uc6d0 \uc18c\uac1c"}),"1-1"),c((0,T.jsx)(x.rU,{to:"/info/class",children:"\uc720\uce58\uc6d0 \ud604\ud669"}),"1-2"),c((0,T.jsx)(x.rU,{to:"/info/location",children:"\uc624\uc2dc\ub294 \uae38"}),"1-3")]),c("\uc721\uc544\uc815\ubcf4","2",(0,T.jsx)("img",{src:"/images/common/sidebar/education.svg"}),[c((0,T.jsx)(x.rU,{to:"/edu/hospital?page=1",children:"\uc608\ubc29\uc811\uc885\uae30\uad00\uc815\ubcf4"}),"2-3"),c((0,T.jsx)(x.rU,{to:"/edu/nighthospital?page=1",children:"\uc57c\uac04\uc9c4\ub8cc\ubcd1\uc6d0\uc815\ubcf4"}),"2-4")]),c("\ud65c\ub3d9\uc568\ubc94","3",(0,T.jsx)(x.rU,{to:"/album",children:(0,T.jsx)("img",{src:"/images/common/sidebar/gallery.svg"})})),c("\uc720\uce58\uc6d0 \uc18c\uc2dd","4",(0,T.jsx)(x.rU,{to:"/notice",children:(0,T.jsx)("img",{src:"/images/common/sidebar/news.svg"})}))];return n&&!t&&d.push(c("\uad00\ub9ac\uc790","5",(0,T.jsx)("img",{src:"/images/common/sidebar/manager.svg"}),l.concat([c((0,T.jsx)(x.rU,{to:"/admin/teacher?page=1&iclass=".concat(r,"&tcIsDel=0"),children:"\uc120\uc0dd\ub2d8 \uad00\ub9ac"}),"5-5")]))),t&&d.push(c("\uad00\ub9ac\uc790","5",(0,T.jsx)("img",{src:"/images/common/sidebar/manager.svg"}),l.concat([c((0,T.jsx)(x.rU,{to:"/admin/teacher/edit?iteacher=".concat(a),children:"\uc815\ubcf4 \uc218\uc815"}),"5-6")]))),e&&d.push(c("\ud68c\uc6d0\uc804\uc6a9","6",(0,T.jsx)("img",{src:"/images/common/sidebar/user.svg"}),[c((0,T.jsx)(x.rU,{to:"/ind?year=".concat(s,"&page=1&ikid=").concat(o[0]?o[0].ikid:0,"&fromTo=3"),children:"\uc54c\ub9bc\uc7a5"}),"6-1"),c((0,T.jsx)(x.rU,{to:"/mypage?year=".concat(s,"&ikid=").concat(o[0]?o[0].ikid:0),children:"\ub9c8\uc774\ud398\uc774\uc9c0"}),"6-2")])),(0,T.jsx)(E.Z,{defaultSelectedKeys:[""],mode:"inline",items:d,style:{border:0}})},J=()=>{const[n,e]=(0,h.useState)(!1),t=(0,h.useRef)(null);return(0,h.useEffect)((()=>{const i=i=>{window.innerWidth<=798&&!n&&!t.current.contains(i.target)&&e(!0)};return document.addEventListener("click",i),()=>document.removeEventListener("click",i)}),[n]),(0,T.jsx)(m.WP,{ref:t,children:(0,T.jsxs)(z.Z,{breakpoint:"lg",onCollapse:(n,t)=>{e(!0)},trigger:null,collapsible:!0,collapsed:n,theme:"light",children:[(0,T.jsx)(m.Z3,{children:(0,T.jsx)(x.rU,{to:"/",children:n?(0,T.jsx)("img",{src:"/images/common/header/smallLogo.svg"}):(0,T.jsx)("img",{src:"/images/common/header/logo.svg"})})}),(0,T.jsx)(D,{}),(0,T.jsx)(g.sd,{type:"text",onClick:()=>e(!n),children:n?"\ud3bc\uce58\uae30":"\uc811\uae30"})]})})},_=n=>{let{children:e}=n;return(0,T.jsxs)(m.Fw,{className:"layout-wrap",children:[(0,T.jsx)(J,{}),(0,T.jsxs)(d.Z,{children:[(0,T.jsx)(F,{}),(0,T.jsx)(m.Py,{children:(0,T.jsx)(p.j3,{})})]}),(0,T.jsx)(O,{})]})}},9386:(n,e)=>{e.J=void 0;e.J=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"===typeof window)return{persistAtom:()=>{}};const{key:e="recoil-persist",storage:t=localStorage,converter:i=JSON}=n,s=(n,e,t,i)=>{i?delete e[t]:e[t]=n,a(e)},o=()=>{const n=t.getItem(e);return null===n||void 0===n?{}:"string"===typeof n?r(n):"function"===typeof n.then?n.then(r):{}},r=n=>{if(void 0===n)return{};try{return i.parse(n)}catch(e){return console.error(e),{}}},a=n=>{try{"function"===typeof t.mergeItem?t.mergeItem(e,i.stringify(n)):t.setItem(e,i.stringify(n))}catch(s){console.error(s)}};return{persistAtom:n=>{let{onSet:e,node:t,trigger:i,setSelf:r}=n;if("get"===i){const n=o();"function"===typeof n.then&&n.then((n=>{n.hasOwnProperty(t.key)&&r(n[t.key])})),n.hasOwnProperty(t.key)&&r(n[t.key])}e((async(n,e,i)=>{const r=o();"function"===typeof r.then?r.then((e=>s(n,e,t.key,i))):s(n,r,t.key,i)}))}}}}}]);
//# sourceMappingURL=615.d366cb56.chunk.js.map