"use strict";(self.webpackChunkkindergarden=self.webpackChunkkindergarden||[]).push([[8957],{3359:(e,n,s)=>{s.d(n,{Dq:()=>r,hA:()=>l,yu:()=>c});var a=s(4880),i=s(3014);const t="".concat(i.L,"/api/notice"),r=async e=>{let{page:n,year:s,ikid:i,successFn:r,failFn:c,errorFn:l}=e;try{const e=await a.Z.get("".concat(t,"?page=").concat(n,"&ikid=").concat(i,"&year=").concat(s));"2"===e.status.toString().charAt(0)?r(e.data):c(e.data)}catch(o){l(o.response.data.message)}},c=async e=>{let{page:n,year:s,iclass:i,successFn:r,failFn:c,errorFn:l}=e;try{const e=await a.Z.get("".concat(t,"?page=").concat(n,"&iclass=").concat(i,"&year=").concat(s));"2"===e.status.toString().charAt(0)?r(e.data):c(e.data)}catch(o){l(o.response.data.message)}},l=async e=>{let{product:n,successFn:s,failFn:i,errorFn:r}=e;try{const e={headers:{"Content-Type":"multipart/form-data"}},r=await a.Z.post("".concat(t),n,e);"2"===r.status.toString().charAt(0)?s(r.data):i("\uae00 \ub4f1\ub85d \uc624\ub958")}catch(c){r(c.response.data.message)}}},8199:(e,n,s)=>{s.d(n,{Z:()=>l});var a,i=s(168),t=s(7323),r=(s(2791),s(3955)),c=s(184);const l=e=>{let{state:n}=e;const s=t.Z.div(a||(a=(0,i.Z)(["\n    h3 {\n      padding-left: 3.2rem;\n      background-repeat: no-repeat;\n      background-position: left center;\n      background-size: 2.8rem;\n\n      &.hibiscus {\n        background-image: url(",");\n        color: #ff73a1;\n      }\n      &.sunflower {\n        background-image: url(",");\n        color: ",";\n      }\n      &.rose {\n        background-image: url(",");\n        color: #f5062c;\n      }\n      &.discharge {\n        background-image: url(",");\n        color: ",";\n      }\n      &.graduation {\n        background-image: url(",");\n        color: ",";\n      }\n      &.none {\n        padding-left: 0;\n      }\n    }\n  "])),"/images/user/class_icon_hibiscus.svg","/images/user/class_icon_sunflower.svg",r.O9.orangeDeep,"/images/user/class_icon_rose.svg","/images/user/class_icon_bag.svg",r.O9.grayDeep,"/images/user/class_icon_graduation.svg",r.O9.black);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s,{children:(0,c.jsx)("h3",{className:1===n?"hibiscus":2===n?"sunflower":3===n?"rose":-1===n?"discharge":-2===n?"graduation":"none",children:1===n?"\ubb34\uad81\ud654\ubc18":2===n?"\ud574\ubc14\ub77c\uae30\ubc18":3===n?"\uc7a5\ubbf8\ubc18":-1===n?"\ud1f4\uc18c":-2===n?"\uc878\uc5c5":"\uc9c0\uc815\ub41c \ubc18\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})})}},8957:(e,n,s)=>{s.r(n),s.d(n,{default:()=>V});var a,i,t,r,c,l,o,d=s(6834),g=s(2791),u=s(5847),m=s(3955),h=(s(3156),s(168)),p=s(7323);const x=p.Z.div(a||(a=(0,h.Z)(["\n  position: relative;\n"]))),y=p.Z.div(i||(i=(0,h.Z)(["\n  min-height: 60vh;\n"]))),k=p.Z.div(t||(t=(0,h.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 2%;\n"]))),j=p.Z.div(r||(r=(0,h.Z)(["\n  width: 32%;\n  margin-bottom: 1rem;\n  ","\n  a {\n    display: block;\n    padding: 1.5rem 2rem;\n  }\n"])),m.am),Z=p.Z.div(c||(c=(0,h.Z)(["\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n  color: #555;\n"]))),f=p.Z.div(l||(l=(0,h.Z)(["\n  margin: 1.5rem 0;\n  min-height: 3rem;\n  p {\n    font-size: 1.5rem;\n    font-weight: 500;\n    margin-bottom: 0.5rem;\n  }\n  span {\n    display: block;\n    color: ",";\n    ","\n    word-break: break-all;\n  }\n"])),m.O9.grayDeep,m.LH.line2),b=p.Z.div(o||(o=(0,h.Z)(["\n  display: flex;\n  justify-content: space-between;\n  .ind-date {\n    color: ",";\n    padding-left: 2.5rem;\n    background: url(",")\n      no-repeat top left/ 1.8rem;\n  }\n"])),m.O9.grayDeep,"/images/common/notice/clock.svg");var v=s(4155),F=s(7689),w=s(1087),A=s(724),S=s(8199),N=s(184);const _=e=>{let{listData:n}=e;return(0,N.jsx)(y,{children:(0,N.jsx)(k,{children:Array.isArray(n)&&0===n[0].inotice?(0,N.jsx)("div",{style:{textAlign:"center",width:"100%",marginTop:"5rem"},children:"\uc54c\ub9bc\uc7a5 \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):Array.isArray(n)&&n.map((e=>(0,N.jsx)(j,{children:(0,N.jsxs)(w.rU,{to:"/ind/details/".concat(e.inotice),children:[(0,N.jsxs)(Z,{children:[(0,N.jsx)(S.Z,{state:e.iclass})," ",(0,N.jsx)("h4",{children:e.kidNm})]}),(0,N.jsxs)(f,{children:[(0,N.jsx)("p",{children:e.noticeTitle}),(0,N.jsx)("span",{children:e.noticeContents})]}),(0,N.jsxs)(b,{children:[(0,N.jsx)("div",{className:"ind-date",children:e.createdAt.split(" ")[0]}),(0,N.jsx)("div",{className:"ind-file",children:1===e.picCheck?(0,N.jsx)("img",{src:"/images/common/file_icon.svg",alt:"file"}):null})]})]})},e.inotice)))})})};var C=s(3359),D=s(1717),L=s(7295),O=s(4169),P=s(2641);const T=e=>{let{indList:n,ikidList:s,year:a,ikid:i,page:t}=e;const r=(new Date).getFullYear(),c=[];for(let o=2020;o<=r;o++)c.push({key:o.toString(),label:(0,N.jsx)(w.rU,{to:"/ind?year=".concat(o,"&page=1&ikid=").concat(i),children:o})});const l=Array.isArray(s)&&s.map((e=>({key:e.ikid.toString(),label:(0,N.jsx)(w.rU,{to:"/ind?year=".concat(a,"&page=1&ikid=").concat(e.ikid),children:e.kidNm})})));return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(O.Z,{menu:{items:c},children:(0,N.jsxs)(P.ZP,{children:[a,(0,N.jsx)(L.Z,{})]})}),(0,N.jsx)(O.Z,{menu:{items:l},children:(0,N.jsxs)(P.ZP,{children:[n[0].kidNm,(0,N.jsx)(L.Z,{})]})})]})},U=e=>{let{iclass:n,year:s,ikid:a,page:i}=e;const t=(new Date).getFullYear(),r=[];for(let o=2020;o<=t;o++)r.push({key:o.toString(),label:(0,N.jsx)(w.rU,{to:"/ind?year=".concat(o,"&page=1&iclass=").concat(n),children:o})});const c=[{iclass:0,classNm:"\ubc18 \uc804\uccb4"},{iclass:1,classNm:"\ubb34\uad81\ud654\ubc18"},{iclass:2,classNm:"\ud574\ubc14\ub77c\uae30\ubc18"},{iclass:3,classNm:"\uc7a5\ubbf8\ubc18"}],l=Array.isArray(c)&&c.map((e=>({key:e.iclass.toString(),label:(0,N.jsx)(w.rU,{to:"/ind?year=".concat(s,"&page=1&iclass=").concat(e.iclass),children:e.classNm})})));return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(O.Z,{menu:{items:r},children:(0,N.jsxs)(P.ZP,{children:[s,(0,N.jsx)(L.Z,{})]})}),(0,N.jsx)(O.Z,{menu:{items:l},children:(0,N.jsxs)(P.ZP,{children:["0"===n?"\ubc18 \uc804\uccb4":"1"===n?"\ubb34\uad81\ud654\ubc18":"2"===n?"\ud574\ubc14\ub77c\uae30\ubc18":"3"===n?"\uc7a5\ubbf8\ubc18":null,(0,N.jsx)(L.Z,{})]})})]})},z=[{inotice:0,noticeTitle:"",noticeContents:"",kidNm:"",iclass:0,picCheck:0,createdAt:""}],V=()=>{const e=(0,F.s0)(),[n,s]=(0,w.lr)(),[a,i]=(0,g.useState)(z),[t,r]=(0,g.useState)(0),c=n.get("year"),l=n.get("ikid"),o=n.get("page"),h=n.get("iclass"),{loginState:p,isLogin:y,isParentLogin:k}=(0,A.Z)(),j=p.kidList,[Z,f]=(Array.isArray(j)&&j.map((e=>e.ikid)),(0,g.useState)("")),[b,S]=(0,g.useState)(""),[L,O]=(0,g.useState)(!1),[P,V]=(0,g.useState)();(0,g.useEffect)((()=>{if(k){if("0"===l)return f("\uc5f0\uacb0 \uc624\ub958"),S("\uc5f0\uacb0\ub41c \uc6d0\uc0dd \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),V(-1),void O(!0);(0,C.Dq)({page:o,year:c,ikid:l,errorFn:Y,successFn:q})}else y?(0,C.yu)({page:o,year:c,iclass:h,errorFn:Y,successFn:q}):(O(!0),f("\ud68c\uc6d0 \uc804\uc6a9 \ud398\uc774\uc9c0"),S("\ub85c\uadf8\uc778 \ud68c\uc6d0\ub9cc \uc811\uadfc \uac00\ub2a5\ud569\ub2c8\ub2e4."),V(-1))}),[c,l,h,o]);const q=e=>{i(e.list),r(e.noticeCnt)},Y=e=>{console.log(e),O(!0),f("\ub370\uc774\ud130 \uc5c6\uc74c"),S(e),V(-1)};return(0,N.jsxs)(x,{children:[(0,N.jsx)(D.Z,{isOpen:L,handleOk:()=>{O(!1),P&&e(P)},title:Z,subTitle:b}),(0,N.jsxs)(v.BV,{children:[(0,N.jsx)(m.V1,{children:"\uc54c\ub9bc\uc7a5"}),(0,N.jsx)(v.hs,{children:y?(0,N.jsx)(U,{iclass:h,indList:a,year:c,page:o}):(0,N.jsx)(T,{ikidList:j,indList:a,ikid:l,year:c,page:o})})]}),(0,N.jsx)(_,{listData:a}),(0,N.jsx)(u.V_,{children:(0,N.jsx)(d.Z,{defaultCurrent:1,total:t,pageSize:12,onChange:(n,s)=>{e(y?"/ind?year=".concat(c,"&page=").concat(n,"&iclass=").concat(h):"/ind?year=".concat(c,"&page=").concat(n,"&ikid=").concat(l))}})})]})}}}]);
//# sourceMappingURL=8957.59aef5dc.chunk.js.map