{"version":3,"file":"static/js/999.c39babfa.chunk.js","mappings":"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","sources":["pages/individualNotice/IndivNotiDetails.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport IndivDetailsComponent from \"../../components/individualNotice/IndivDetailsComponent\";\r\nimport { PageTitle } from \"../../styles/basic\";\r\nimport {\r\n  deleteIndDetail,\r\n  deleteNotice,\r\n  getIndDetail,\r\n} from \"../../api/individualNotice/indivNoticeApi\";\r\nimport { IndBot, IndWrap } from \"../../styles/individualNotice/ind\";\r\nimport {\r\n  IndBtnWrap,\r\n  IndClass,\r\n  IndDetailContent,\r\n  IndDetailFile,\r\n  IndDetailTop,\r\n  IndDetailWrap,\r\n} from \"../../styles/individualNotice/inddetail\";\r\nimport MyClass from \"../../components/user/MyClass\";\r\nimport { Link, useSearchParams } from \"react-router-dom\";\r\nimport { IMG_URL } from \"../../api/config\";\r\nimport {\r\n  BlueBtn,\r\n  BtnWrap,\r\n  GreenBtn,\r\n  PinkBtn,\r\n  RedBtn,\r\n} from \"../../styles/ui/buttons\";\r\nimport useCustomLogin from \"../../hooks/useCustomLogin\";\r\nimport ModalOneBtn from \"../../components/ui/ModalOneBtn\";\r\nimport ModalTwoBtn from \"../../components/ui/ModalTwoBtn\";\r\n\r\nconst initData = {\r\n  inotice: 0,\r\n  noticeTitle: \"\",\r\n  noticeContents: \"\",\r\n  pics: [],\r\n  comments: [],\r\n  createdAt: \"\",\r\n  kidNm: \"\",\r\n  iclass: 0,\r\n};\r\n\r\nconst IndivNotiDetails = () => {\r\n  const navigate = useNavigate();\r\n  // tno 체크\r\n  const { tno } = useParams();\r\n  // 현재 출력 년도, kid 값 params에서 체크\r\n  const [serchParams, setSearchParams] = useSearchParams();\r\n  const year = serchParams.get(\"year\");\r\n  const ikid = serchParams.get(\"ikid\");\r\n  const page = serchParams.get(\"page\");\r\n  const iclass = serchParams.get(\"iclass\");\r\n  // 로그인 정보\r\n  const { isLogin, isParentLogin } = useCustomLogin();\r\n  // 연동데이터\r\n  const [data, setData] = useState(initData);\r\n\r\n  // 모달창 내용\r\n  const [title, setTitle] = useState(\"\");\r\n  const [subTitle, setSubTitle] = useState(\"\");\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isNavigate, setIsNavigate] = useState();\r\n\r\n  // 모달창 확인버튼\r\n  const handleOk = () => {\r\n    setIsOpen(false);\r\n    // 링크이동\r\n    if (isNavigate) {\r\n      navigate(isNavigate);\r\n    }\r\n  };\r\n  // 모달창 취소\r\n  const handleCancel = () => {\r\n    setDelOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isParentLogin && !isLogin) {\r\n      // 로그인 안했을때\r\n      setIsOpen(true);\r\n      setTitle(\"회원 전용 페이지\");\r\n      setSubTitle(\"로그인 회원만 접근 가능합니다.\");\r\n      setIsNavigate(\"/login\");\r\n    } else {\r\n      getIndDetail({ tno, successFn, errorFn });\r\n    }\r\n  }, []);\r\n\r\n  // Get 연동 결과\r\n  const successFn = res => {\r\n    setData({ ...res });\r\n  };\r\n  const errorFn = res => {\r\n    setIsOpen(true);\r\n    setTitle(\"데이터 오류\");\r\n    setSubTitle(res);\r\n  };\r\n  // 회원별 목록보기\r\n  const handleClickList = () => {\r\n    if (isLogin) {\r\n      navigate(`/ind?year=${year}&page=${page}&iclass=${iclass}`);\r\n    } else {\r\n      navigate(`/ind?year=${year}&page=${page}&ikid=${ikid}`);\r\n    }\r\n  };\r\n\r\n  // 글 삭제\r\n  const [delOpen, setDelOpen] = useState(false);\r\n  const handleClickDelete = () => {\r\n    setDelOpen(true);\r\n    setTitle(\"정말 삭제할까요?\");\r\n    setSubTitle(\r\n      \"삭제된 알림장은 복구할 수 없습니다. \\n 정말 삭제하시겠습니까?\",\r\n    );\r\n  };\r\n  const handleDelOk = () => {\r\n    deleteIndDetail({ tno, successDelFn, errorDelFn });\r\n  };\r\n  const successDelFn = res => {\r\n    setDelOpen(false);\r\n    setIsOpen(true);\r\n    setTitle(\"삭제 완료\");\r\n    setSubTitle(\"삭제 완료되었습니다.\");\r\n    isLogin\r\n      ? setIsNavigate(`/ind?year=${year}&page=${page}&iclass=${iclass}`)\r\n      : setIsNavigate(`/ind?year=${year}&page=${page}&ikid=${ikid}`);\r\n  };\r\n  const errorDelFn = () => {};\r\n\r\n  return (\r\n    <IndWrap>\r\n      {/* 안내창 */}\r\n      <ModalOneBtn\r\n        isOpen={isOpen}\r\n        handleOk={handleOk}\r\n        title={title}\r\n        subTitle={subTitle}\r\n      />\r\n\r\n      {/* 글삭제 */}\r\n      <ModalTwoBtn\r\n        isOpen={delOpen}\r\n        handleOk={handleDelOk}\r\n        handleCancel={handleCancel}\r\n        title={title}\r\n        subTitle={subTitle}\r\n      />\r\n      <PageTitle>알림장</PageTitle>\r\n      <IndDetailWrap>\r\n        <IndDetailTop>\r\n          <IndClass>\r\n            <MyClass state={data.iclass} /> <h4>{data.kidNm}</h4>\r\n          </IndClass>\r\n          <h3>{data.noticeTitle}</h3>\r\n          <IndBot>\r\n            <div className=\"ind-date\">{data.createdAt.split(\" \")[0]}</div>\r\n          </IndBot>\r\n        </IndDetailTop>\r\n        <IndDetailContent>\r\n          <pre>{data.noticeContents}</pre>\r\n        </IndDetailContent>\r\n        <IndDetailFile>\r\n          {Array.isArray(data.pics) &&\r\n            data.pics.map((item, index) => (\r\n              <Link\r\n                to={`${IMG_URL}/pic/notice/${data.inotice}/${item}`}\r\n                key={index}\r\n                target=\"_blank\"\r\n              >\r\n                {item}\r\n              </Link>\r\n            ))}\r\n        </IndDetailFile>\r\n      </IndDetailWrap>\r\n      <IndBtnWrap>\r\n        <GreenBtn onClick={handleClickList}>목록보기</GreenBtn>\r\n        {isLogin ? (\r\n          <>\r\n            {/* <BlueBtn>수정</BlueBtn> */}\r\n            <PinkBtn onClick={handleClickDelete}>삭제</PinkBtn>\r\n          </>\r\n        ) : null}\r\n      </IndBtnWrap>\r\n    </IndWrap>\r\n  );\r\n};\r\n\r\nexport default IndivNotiDetails;\r\n"],"names":["initData","inotice","noticeTitle","noticeContents","pics","comments","createdAt","kidNm","iclass","IndivNotiDetails","navigate","useNavigate","tno","useParams","serchParams","setSearchParams","useSearchParams","year","get","ikid","page","isLogin","isParentLogin","useCustomLogin","data","setData","useState","title","setTitle","subTitle","setSubTitle","isOpen","setIsOpen","isNavigate","setIsNavigate","useEffect","getIndDetail","successFn","errorFn","res","delOpen","setDelOpen","successDelFn","concat","errorDelFn","_jsxs","IndWrap","children","_jsx","ModalOneBtn","handleOk","ModalTwoBtn","handleDelOk","deleteIndDetail","handleCancel","PageTitle","IndDetailWrap","IndDetailTop","IndClass","MyClass","state","IndBot","className","split","IndDetailContent","IndDetailFile","Array","isArray","map","item","index","Link","to","IMG_URL","target","IndBtnWrap","GreenBtn","onClick","handleClickList","_Fragment","PinkBtn","handleClickDelete"],"sourceRoot":""}