{"version":3,"file":"static/js/999.c39babfa.chunk.js","mappings":"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","sources":["pages/individualNotice/IndivNotiDetails.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router\";\nimport IndivDetailsComponent from \"../../components/individualNotice/IndivDetailsComponent\";\nimport { PageTitle } from \"../../styles/basic\";\nimport {\n  deleteIndDetail,\n  deleteNotice,\n  getIndDetail,\n} from \"../../api/individualNotice/indivNoticeApi\";\nimport { IndBot, IndWrap } from \"../../styles/individualNotice/ind\";\nimport {\n  IndBtnWrap,\n  IndClass,\n  IndDetailContent,\n  IndDetailFile,\n  IndDetailTop,\n  IndDetailWrap,\n} from \"../../styles/individualNotice/inddetail\";\nimport MyClass from \"../../components/user/MyClass\";\nimport { Link, useSearchParams } from \"react-router-dom\";\nimport { IMG_URL } from \"../../api/config\";\nimport {\n  BlueBtn,\n  BtnWrap,\n  GreenBtn,\n  PinkBtn,\n  RedBtn,\n} from \"../../styles/ui/buttons\";\nimport useCustomLogin from \"../../hooks/useCustomLogin\";\nimport ModalOneBtn from \"../../components/ui/ModalOneBtn\";\nimport ModalTwoBtn from \"../../components/ui/ModalTwoBtn\";\n\nconst initData = {\n  inotice: 0,\n  noticeTitle: \"\",\n  noticeContents: \"\",\n  pics: [],\n  comments: [],\n  createdAt: \"\",\n  kidNm: \"\",\n  iclass: 0,\n};\n\nconst IndivNotiDetails = () => {\n  const navigate = useNavigate();\n  // tno 체크\n  const { tno } = useParams();\n  // 현재 출력 년도, kid 값 params에서 체크\n  const [serchParams, setSearchParams] = useSearchParams();\n  const year = serchParams.get(\"year\");\n  const ikid = serchParams.get(\"ikid\");\n  const page = serchParams.get(\"page\");\n  const iclass = serchParams.get(\"iclass\");\n  // 로그인 정보\n  const { isLogin, isParentLogin } = useCustomLogin();\n  // 연동데이터\n  const [data, setData] = useState(initData);\n\n  // 모달창 내용\n  const [title, setTitle] = useState(\"\");\n  const [subTitle, setSubTitle] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const [isNavigate, setIsNavigate] = useState();\n\n  // 모달창 확인버튼\n  const handleOk = () => {\n    setIsOpen(false);\n    // 링크이동\n    if (isNavigate) {\n      navigate(isNavigate);\n    }\n  };\n  // 모달창 취소\n  const handleCancel = () => {\n    setDelOpen(false);\n  };\n\n  useEffect(() => {\n    if (!isParentLogin && !isLogin) {\n      // 로그인 안했을때\n      setIsOpen(true);\n      setTitle(\"회원 전용 페이지\");\n      setSubTitle(\"로그인 회원만 접근 가능합니다.\");\n      setIsNavigate(\"/login\");\n    } else {\n      getIndDetail({ tno, successFn, errorFn });\n    }\n  }, []);\n\n  // Get 연동 결과\n  const successFn = res => {\n    setData({ ...res });\n  };\n  const errorFn = res => {\n    setIsOpen(true);\n    setTitle(\"데이터 오류\");\n    setSubTitle(res);\n  };\n  // 회원별 목록보기\n  const handleClickList = () => {\n    if (isLogin) {\n      navigate(`/ind?year=${year}&page=${page}&iclass=${iclass}`);\n    } else {\n      navigate(`/ind?year=${year}&page=${page}&ikid=${ikid}`);\n    }\n  };\n\n  // 글 삭제\n  const [delOpen, setDelOpen] = useState(false);\n  const handleClickDelete = () => {\n    setDelOpen(true);\n    setTitle(\"정말 삭제할까요?\");\n    setSubTitle(\n      \"삭제된 알림장은 복구할 수 없습니다. \\n 정말 삭제하시겠습니까?\",\n    );\n  };\n  const handleDelOk = () => {\n    deleteIndDetail({ tno, successDelFn, errorDelFn });\n  };\n  const successDelFn = res => {\n    setDelOpen(false);\n    setIsOpen(true);\n    setTitle(\"삭제 완료\");\n    setSubTitle(\"삭제 완료되었습니다.\");\n    isLogin\n      ? setIsNavigate(`/ind?year=${year}&page=${page}&iclass=${iclass}`)\n      : setIsNavigate(`/ind?year=${year}&page=${page}&ikid=${ikid}`);\n  };\n  const errorDelFn = () => {};\n\n  return (\n    <IndWrap>\n      {/* 안내창 */}\n      <ModalOneBtn\n        isOpen={isOpen}\n        handleOk={handleOk}\n        title={title}\n        subTitle={subTitle}\n      />\n\n      {/* 글삭제 */}\n      <ModalTwoBtn\n        isOpen={delOpen}\n        handleOk={handleDelOk}\n        handleCancel={handleCancel}\n        title={title}\n        subTitle={subTitle}\n      />\n      <PageTitle>알림장</PageTitle>\n      <IndDetailWrap>\n        <IndDetailTop>\n          <IndClass>\n            <MyClass state={data.iclass} /> <h4>{data.kidNm}</h4>\n          </IndClass>\n          <h3>{data.noticeTitle}</h3>\n          <IndBot>\n            <div className=\"ind-date\">{data.createdAt.split(\" \")[0]}</div>\n          </IndBot>\n        </IndDetailTop>\n        <IndDetailContent>\n          <pre>{data.noticeContents}</pre>\n        </IndDetailContent>\n        <IndDetailFile>\n          {Array.isArray(data.pics) &&\n            data.pics.map((item, index) => (\n              <Link\n                to={`${IMG_URL}/pic/notice/${data.inotice}/${item}`}\n                key={index}\n                target=\"_blank\"\n              >\n                {item}\n              </Link>\n            ))}\n        </IndDetailFile>\n      </IndDetailWrap>\n      <IndBtnWrap>\n        <GreenBtn onClick={handleClickList}>목록보기</GreenBtn>\n        {isLogin ? (\n          <>\n            {/* <BlueBtn>수정</BlueBtn> */}\n            <PinkBtn onClick={handleClickDelete}>삭제</PinkBtn>\n          </>\n        ) : null}\n      </IndBtnWrap>\n    </IndWrap>\n  );\n};\n\nexport default IndivNotiDetails;\n"],"names":["initData","inotice","noticeTitle","noticeContents","pics","comments","createdAt","kidNm","iclass","IndivNotiDetails","navigate","useNavigate","tno","useParams","serchParams","setSearchParams","useSearchParams","year","get","ikid","page","isLogin","isParentLogin","useCustomLogin","data","setData","useState","title","setTitle","subTitle","setSubTitle","isOpen","setIsOpen","isNavigate","setIsNavigate","useEffect","getIndDetail","successFn","errorFn","res","delOpen","setDelOpen","successDelFn","concat","errorDelFn","_jsxs","IndWrap","children","_jsx","ModalOneBtn","handleOk","ModalTwoBtn","handleDelOk","deleteIndDetail","handleCancel","PageTitle","IndDetailWrap","IndDetailTop","IndClass","MyClass","state","IndBot","className","split","IndDetailContent","IndDetailFile","Array","isArray","map","item","index","Link","to","IMG_URL","target","IndBtnWrap","GreenBtn","onClick","handleClickList","_Fragment","PinkBtn","handleClickDelete"],"sourceRoot":""}